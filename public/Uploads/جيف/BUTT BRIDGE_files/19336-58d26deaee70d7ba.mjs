"use strict";(self.__LOADABLE_LOADED_CHUNKS__=self.__LOADABLE_LOADED_CHUNKS__||[]).push([[19336],{17314:(e,t,n)=>{n.d(t,{Z:()=>c});var s,i,o=n(813653),a=n(861470),r=0,l=0;let c=function(e,t,n){var c=t&&n||0,u=t||Array(16),d=(e=e||{}).node||s,_=void 0!==e.clockseq?e.clockseq:i;if(null==d||null==_){var h=e.random||(e.rng||o.Z)();null==d&&(d=s=[1|h[0],h[1],h[2],h[3],h[4],h[5]]),null==_&&(_=i=(h[6]<<8|h[7])&16383)}var p=void 0!==e.msecs?e.msecs:Date.now(),m=void 0!==e.nsecs?e.nsecs:l+1,g=p-r+(m-l)/1e4;if(g<0&&void 0===e.clockseq&&(_=_+1&16383),(g<0||p>r)&&void 0===e.nsecs&&(m=0),m>=1e4)throw Error("uuid.v1(): Can't create more than 10M uuids/sec");r=p,l=m,i=_;var f=((268435455&(p+=122192928e5))*1e4+m)%4294967296;u[c++]=f>>>24&255,u[c++]=f>>>16&255,u[c++]=f>>>8&255,u[c++]=255&f;var b=p/4294967296*1e4&268435455;u[c++]=b>>>8&255,u[c++]=255&b,u[c++]=b>>>24&15|16,u[c++]=b>>>16&255,u[c++]=_>>>8|128,u[c++]=255&_;for(var v=0;v<6;++v)u[c+v]=d[v];return t||(0,a.Z)(u)}},395980:(e,t,n)=>{var s,i;n.r(t),n.d(t,{default:()=>a});let o={fragment:{argumentDefinitions:[],kind:"Fragment",metadata:null,name:"BadgeManagerMutation",selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"v3DeleteBadgeMutation",plural:!1,selections:[{kind:"InlineFragment",selections:[s={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"data",plural:!1,selections:[i={alias:null,args:null,kind:"ScalarField",name:"fullName",storageKey:null}],storageKey:null}],type:"V3DeleteBadge",abstractKey:null}],storageKey:null}],type:"Mutation",abstractKey:null},kind:"Request",operation:{argumentDefinitions:[],kind:"Operation",name:"BadgeManagerMutation",selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"v3DeleteBadgeMutation",plural:!1,selections:[s,{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"data",plural:!1,selections:[i,{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null}],storageKey:null}],type:"V3DeleteBadge",abstractKey:null}],storageKey:null}]},params:{id:"b02365b27ce69f648cde539398a9bef3c506f5fcd3fbadc974256de04ec86078",metadata:{},name:"BadgeManagerMutation",operationKind:"mutation",text:null}};o.hash="ba7787ee8344e34b151f6a5f633c4170";let a=o},499041:(e,t,n)=>{n.d(t,{b:()=>l,t:()=>r});var s=n(667294),i=n(342513),o=n(785893);let{Provider:a,useHook:r}=(0,i.Z)("LensContext");function l({children:e}){let[t,n]=(0,s.useState)(),[i,r]=(0,s.useState)(),[l,c]=(0,s.useState)([]),[u,d]=(0,s.useState)(),[_,h]=(0,s.useState)(),[p,m]=(0,s.useState)(!1);return(0,o.jsx)(a,{value:{heroImageUrl:i,historyData:l,image:t,imageData:_,isLensModalOpen:p,setHeroImageUrl:r,setHistoryData:c,setImage:n,setImageData:h,setIsLensModalOpen:m,setUpdatedCropArea:d,updatedCropArea:u},children:e})}},354500:(e,t,n)=>{n.d(t,{Oz:()=>s,mo:()=>a,nt:()=>o,v8:()=>i});let s={BUSINESS_ACCOUNT:"BUSINESS_ACCOUNT",BUSINESS_HIERARCHY:"BUSINESS_HIERARCHY",USER_ACCOUNT:"USER",AD_ACCOUNT:"AD_ACCOUNT",PROFILE:"PROFILE"},i="BUSINESS_PANEL",o="ASSET_PANEL",a=500},106622:(e,t,n)=>{n.d(t,{r:()=>f,K:()=>m});var s=n(667294),i=n(372085),o=n(783122);let a=async(e,t)=>{let{statsLog:n}=(0,o.t)();try{let s=new Date,o=await (0,i.Z)({url:"/ads/v4/business_entities",data:e,method:"POST"}),a=new Date;return n&&(n.success("getMultipleBizEntityProperties",t),n.latency("getMultipleBizEntityProperties",a.getTime()-s.getTime(),t)),o.resource_response.data}catch(e){throw n&&n.failure("getMultipleBizEntityProperties",t),e}},r=async(e,t,n="PUT")=>{let{statsLog:s}=(0,o.t)();try{let o=new Date,a=await (0,i.Z)({url:"/ads/v4/business_entities",data:e,method:n}),r=new Date;return s&&(s.success("setMultipleBizEntityPropertiesFullUpdate",t),s.latency("setMultipleBizEntityPropertiesFullUpdate",r.getTime()-o.getTime(),t)),a.resource_response.data}catch(e){throw s&&s.failure("setMultipleBizEntityPropertiesFullUpdate",t),e}};var l=n(342513),c=n(288673),u=n(340523),d=n(149722),_=n(953565),h=n(785893);let{Provider:p,useHook:m}=(0,l.Z)("CustomShortcutsContext"),g=()=>Object.freeze(["business.pinterest.com","create.pinterest.com","about.pinterest.com","support.pinterest.com","developers.pinterest.com","newsroom.pinterest.com"]),f=({children:e})=>{let t=(0,d.Z)(),n=(0,u.F)(),[i,o]=(0,s.useState)({}),l=(0,s.useCallback)(async()=>{let{anyEnabled:e}=n.checkExperiment("exp_ia_navigation_mega_nav_m2"),{anyEnabled:s}=n.checkExperiment("aid_exp_use_fetch_api_in_custom_shortcut_context"),i=g().every(e=>!window.location.href?.includes(e));if(e&&t.isAuth&&!t.isLimitedLogin&&i)try{let e;e=s?a:c.FO;let n=(await e([{entity_id:t.id,entity_type:"BIZ_USER",property_keys:["NAVBAR_CONFIG"]}]))[0];if(!(n&&n.properties))return;let i=n.properties.NAVBAR_CONFIG;o(i?.customShortcuts||{})}catch(e){(0,_.nP)("pro_partner_header.dynamic_menu.shortcuts.get_error",{sampleRate:1,tags:{entity_id:t.id,error:e.message}})}},[t.isAuth,t.id,t.isLimitedLogin,n]),m=(e,t)=>({entity_id:e,entity_type:"BIZ_USER",properties:{NAVBAR_CONFIG:{customShortcuts:t}}}),f=(0,s.useCallback)(async e=>{let{anyEnabled:s}=n.checkExperiment("exp_ia_navigation_mega_nav_m2"),{anyEnabled:i}=n.checkExperiment("aid_exp_use_fetch_api_in_custom_shortcut_context");if(!(t.isAuth&&s))return(0,_.nP)("pro_partner_header.dynamic_menu.shortcuts.upsert_error",{sampleRate:1,tags:{entity_id:t.id,error:"Auth_Error"}}),{error:"Auth_Error"};try{let n;n=i?r:c.VW;let s=m(t.id,e);return await n([s]),l(),{error:null}}catch(e){return(0,_.nP)("pro_partner_header.dynamic_menu.shortcuts.upsert_error",{sampleRate:1,tags:{entity_id:t.id,error:e.message}}),{error:"Upsert_Error"}}},[t.isAuth,t.id,n,l]);(0,s.useEffect)(()=>{l()},[l]);let b=(0,s.useMemo)(()=>({shortcuts:i,upsertShortcuts:f}),[i,f]);return(0,h.jsx)(p,{value:b,children:e})}},334589:(e,t,n)=>{n.d(t,{Z:()=>s});function s(e){return e?"/pin-creation-tool/":"/idea-pin-builder/"}},214274:(e,t,n)=>{n.d(t,{Z:()=>s});let s='-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Oxygen-Sans,Ubuntu,Cantarell,"Fira Sans","Droid Sans","Helvetica Neue",Helvetica,"Apple Color Emoji","Segoe UI Emoji","Segoe UI Symbol","ãƒ’ãƒ©ã‚®ãƒŽè§’ã‚´ Pro W3","Hiragino Kaku Gothic Pro",ãƒ¡ã‚¤ãƒªã‚ª,Meiryo,"ï¼­ï¼³ ï¼°ã‚´ã‚·ãƒƒã‚¯",Arial,sans-serif'},422317:(e,t,n)=>{n.d(t,{Z:()=>ec});var s=n(667294),i=n(616550),o=n(883119),a=n(342513),r=n(510989),l=n(608516),c=n(785893);let u=(0,s.lazy)(()=>n.e(79337).then(n.bind(n,879337))),{Provider:d}=(0,a.Z)("LinkedBusinessAccountConfirmationModal");function _({children:e,onDismiss:t}){let[n,i]=(0,s.useState)(!1),o=(0,s.useMemo)(()=>({showLinkedBusinessAccountConfirmationModal:()=>{i(!0)}}),[]);return(0,c.jsxs)(s.Fragment,{children:[(0,c.jsx)(d,{value:o,children:e}),n&&(0,c.jsx)(r.Z,{name:"SafeSuspense_LinkedBusinessAccountConfirmationModalContextProvider_LinkedBusinessAccountConfirmationModal",children:(0,c.jsx)(l.Z,{children:(0,c.jsx)(u,{onDismiss:()=>{i(!1),t()}})})})]})}var h=n(619370),p=n(140017),m=n(339001);let g=()=>{let e=(0,p.ZP)();return(0,c.jsx)(o.he,{iconAccessibilityLabel:e._('Info message', 'header.accountsOptionsMenu.info.icon', 'ally label for the info icon on a Gestalt SlimBanner'),message:(0,c.jsx)(o.xv,{inline:!0,weight:"bold",children:(0,m.nk)(e._('Business Access {{ isNow }} Business Manager {{ restOfMsg }}', 'header.accountsOptionsMenu.newEntryPtBold', 'Message informing of change in menu item. isNow: english words "is now" but not in bold, restOfMsg: rest of message but not in bold'),{isNow:(0,c.jsx)(o.xv,{inline:!0,children:e._('is now', 'header.accountsOptionsMenu.newEntryPtIsNow', 'Message informing of change in menu item')}),restOfMsg:(0,c.jsx)(o.xv,{inline:!0,children:e._('and can now be found in the Business drop-down menu.', 'header.accountsOptionsMenu.newEntryPtRestOfMsg', 'Message informing of change in menu item')})})}),type:"info"})};var f=n(214877),b=n(515278),v=n(654960),y=n(434593);function w(){let e=(0,p.ZP)();return{addAccount:{value:"add-account",label:e._('Add account', 'header.accountsOptionsMenu.addSecondaryAccountButton', 'Short text on the button that allows a user to add a new account or log in to another Pinterest account')},businessAccess:{value:"business-access",label:e._('Business Access', 'Link to business Access Landing Page', 'A button that links to business access')},businessAccount:e=>({value:`business-account-${e.id}`,label:e.username}),contentClaiming:{value:"content-claiming",label:e._('Content claiming portal', 'header.accountsOptionsMenu.contentManagementPortal', 'menu item linking to the content management portal')},convertToBusiness:{value:"convert-to-business",label:e._('Convert to business', 'header.accountsOptionsMenu.addAccountButton', 'Short upsell text on the button that allows a user to convert to a Pinterest business account')},currentAccount:{value:"current-account",label:e._('Current account', 'SwitchAccountsList.CurrentlyInItem', 'The account the user is currently logged into')},failedAccount:{value:"failed-account",label:e._('Failed to log into this account', 'header.accountsOptionsMenu.failedAccountItem', 'Explanation for which account the user could not log into')},getHelp:{value:"get-help",label:e._('Help center', 'header.accountsOptionsMenu.helpCenter.label', 'menu item linking to the help center')},homefeedTuner:{value:"homefeed-tuner",label:e._('Home feed tuner', 'header.accountsOptionsMenu.homefeedTuner.label', 'menu item linking to home feed editor')},installApp:e=>({value:"install-app",label:e}),lbaAccountSwitch:e=>({value:`lba-account-switch-${e.id}`,label:e.username}),logOut:{value:"log-out",label:e._('Log out', 'header.accountsOptionsMenu.logout', 'menu item that logs you out of your Pinterest account')},parentAccount:e=>({value:`parent-account-${e.id}`,label:e.username}),termsOfService:{value:"tos-policy",label:e._('Terms of service', 'header.accountsOptionsMenu.termsOfService.label', 'menu item linking to our terms of service')},privacyPolicy:{value:"privacy-policy",label:e._('Privacy policy', 'header.accountsOptionsMenu.privacyPolicy.label', 'menu item linking to our privacy policy')},reportsAndViolationsCenter:{value:"reports-and-violations-center",label:e._('Reports and violations center', 'header.accountsOptionsMenu.reportsAndViolationsCenter', 'menu item linked to the reports and violations center')},reportBug:{value:"report-bug",label:e._('Report a bug', 'header.accountsOptionsMenu.reportBug', 'menu item to show employee-only report bug modal')},settings:{value:"settings",label:e._('Settings', 'header.accountsOptionsMenu.settings', 'menu item linking to your settings')},settingsPrivacy:{value:"settingsPrivacy",label:e._('Your privacy rights', 'header.accountsOptionsMenu.settingsPrivacy.label', 'menu item linking to privacy settings')},adsSupport:{value:"ads-support",label:e._('Ads support', 'header.accountsOptionsMenu.adsSupport', 'menu item linking to ads support')},requestFeature:{value:"request-a-feature",label:e._('Request a feature', 'header.accountsOptionsMenu.requestAFeature', 'menu item linking to request a feature page in help center')},pinterestTvStudio:{value:"pinterest-tv-studio",label:e._('Pinterest TV Studio', 'Link to Pinterest Tv Creator Studio', 'a link menu item that links to creator stuido')},betaTester:{value:"be-a-beta-tester",label:e._('Be a beta tester', 'header.accountsOptionsMenu.beBetaTesterProgram', 'A link to Pinterest Beta Tester program')},teenSafetyResources:{value:"teen-safety-resources",label:e._('Teen safety resources', 'header.accountsOptionsMenu.teenSafetyResources', 'Menu item linkin the user to the help center for teen resources page')}}}var x=n(991326),A=n(404891),E=n(610954),S=n(42068),P=n(340523),I=n(757640),C=n(702497),O=n(858128),T=n(149722),L=n(29156),j=n(587703),k=n(805783),R=n(308548),Z=n(427514),N=n(286318);let D=["chrome","windows"];var M=n(930837);let z=(0,n(832853).Z)(()=>n.e(73669).then(n.bind(n,984471)),void 0,"app-www-ReportBug-ReportBug"),{Provider:B,useHook:U}=(0,a.Z)("reportBugModalContext");function F({children:e}){let t=(0,p.ZP)(),[n,i]=(0,s.useState)(!1),o=(0,T.Z)(),a=(0,s.useCallback)(()=>{i(!0)},[]),l=(0,s.useMemo)(()=>({handleShowReportBugModal:a}),[a]);return(0,c.jsxs)(s.Fragment,{children:[(0,c.jsx)(B,{value:l,children:e}),n&&o.isAuth&&(0,c.jsx)(M.ZP,{accessibilityModalLabel:t._('Report bug', 'header.accountsOptionsMenu.logout', 'Modal accessibility label for reporting a bug'),onDismiss:()=>{i(!1)},children:(0,c.jsx)(r.Z,{name:"SafeSuspense_ReportBugModal_ReportBug",children:(0,c.jsx)(z,{onDismiss:()=>{i(!1)},username:o.username})})})]})}function H({failedAccount:e,handleReauthAccount:t,handleRemoveUnauthAccount:n}){let i=(0,p.ZP)();return(0,c.jsxs)(s.Fragment,{children:[(0,c.jsx)(o.xu,{marginTop:4,children:(0,c.jsx)(o.zx,{color:"red",fullWidth:!0,onClick:t,text:i._('Log in again', 'header.accountsOptionsMenu.failedAccountLoginButton', 'Text on button allowing user to log into an account after failing to switch to that account')})}),(0,c.jsx)(o.xu,{marginTop:3,children:(0,c.jsx)(o.zx,{fullWidth:!0,onClick:()=>n(e.id),text:i._('Remove account', 'header.accountsOptionsMenu.failedAccountRemoveButton', 'Text on button allowing user to remove an account from their account switcher after failing to switch to it')})})]})}var V=n(598228),$=n(222881);function W({anchor:e,onDismiss:t,advertiser:n,showAccountSwitcher:i,showAdsSupportOption:a,isWwwSite:r,isPersistentArrUpsellEnabled:l}){let u=(0,T.Z)(),d=(0,p.ZP)(),{failedAccount:_,fetchedUserAccounts:h,handleAccountRepClick:m,handleLinkedAccountSwitch:M,handleReauthAccount:z,handleRemoveUnauthAccount:B}=(0,A.Z)(t,r),F=w(),W=h.find(e=>e.id===(u.isAuth&&u.id)),G=u.isAuth&&u.partner?.is_linked_business,{yourAccount:q,moreOptions:Y}=function({onDismiss:e,advertiser:t,showAdsSupportOption:n,isWwwSite:i,isPersistentArrUpsellEnabled:a}){let{id:r,isAuth:l,isEmployee:u,isLimitedLogin:d,isPartner:_,partner:h,teenSafetyOptionsUrl:m}=(0,T.Z)(),M=(0,p.ZP)(),{logContextEvent:z}=(0,f.v)(),{isLoaded:B,data:F}=(0,I.Z)({name:"ApiResource",options:{url:"/v3/users/me/",data:{fields:"user.content_claiming_access"}}}),{isLoaded:H,data:V}=(0,I.Z)({name:"UserSettingsResource"}),{content_claiming_access:$=!1}=F||{},{handleShowReportBugModal:W}=U(),G=(0,x.Z)(),q=function(){let e=(0,p.ZP)(),t=(0,s.useContext)(N.Z),n=(0,k.kM)(window,t),i=(0,j.Z)(),o=e=>{i({component:247,element:e,event_type:101})},a=(0,Z.Z)(e._('Install the {{appName}} app', 'header.accountsOptionsMenu.installApp', 'menu item linking app that can be installed'),{appName:(0,R.Z)(n)});return D.includes(n)?{onClick:()=>{if("windows"===n)o(11409),(0,L.Z)(`${C.TMP}&cid=flyout_cta`,!0);else if("chrome"===n&&t){let e=t();e&&(o(11410),e.prompt())}},text:a}:null}(),{checkExperiment:Y}=(0,P.F)(),K=!!l&&_,J=l&&!!m,Q=!!l&&!d,X=(0,b.Z)(),{fetchedUserAccounts:ee,handleAccountRepClick:et,handleAddSecondaryAccount:en,handleClick:es,handleLinkedAccountSwitch:ei,handleUnlockBusinessTools:eo,isLoading:ea,showUnlockBusinessTools:er}=(0,A.Z)(e,i),el=w(),{anyEnabled:ec}=Y("digital_services_act_portal"),eu=ee.filter(e=>!e.partner&&!(e.owners||[]).length||e.partner&&!e.partner.isLinkedBusiness),ed=ee.find(e=>e.id===(l&&r));l&&h?.is_linked_business&&(eu=eu.sort(e=>ed?.owners?.some(t=>t.id===e.id)?-1:1));let e_=H&&(!V?.opt_in_private_account||V.opt_in_private_account&&(eu.length>1||1===eu.length&&eu[0].businesses.length>0)),eh=ea&&(0,c.jsx)(E.Z,{}),ep=ed?.businesses?.length?ed.businesses.map(e=>r!==e.id&&(0,c.jsx)(o.Lt.Item,{dataTestId:"lba-account-switch-option",onSelect:()=>ei(e,ed.id),option:el.lbaAccountSwitch(e),children:(0,c.jsx)(y.Z,{user:e},e.id)},e.id)):null,em=eu.map(e=>e.id!==(l&&r)?[(0,c.jsx)(o.Lt.Item,{onSelect:()=>et(e),option:el.parentAccount(e),children:(0,c.jsx)(y.Z,{isCurrentAccount:(l&&r)===e.id,user:e})},e.id),...e?.businesses?.length?e.businesses.map(t=>r!==t.id&&(0,c.jsx)(o.Lt.Item,{dataTestId:"lba-account-switch-option",onSelect:()=>ei(t,e.id),option:el.businessAccount(t),children:(0,c.jsx)(y.Z,{user:t},t.id)},t.id)):[]]:null),eg=i&&(0,c.jsx)(o.Lt.Item,{dataTestId:"header-menu-add-account",onSelect:en,option:el.addAccount}),ef=(0,c.jsx)(o.Lt.Item,{dataTestId:"header-menu-add-account",onSelect:en,option:el.addAccount}),eb=er&&(0,c.jsx)(o.Lt.Item,{dataTestId:"header-menu-business-account",onSelect:eo,option:el.convertToBusiness}),ev=B&&$&&(0,c.jsx)(o.Lt.Link,{href:"/content-claiming",onClick:()=>es(13606),option:el.contentClaiming}),ey=l&&!!u&&(0,c.jsx)(o.Lt.Item,{onSelect:()=>{W(),es(13607),e()},option:el.reportBug}),ew=(0,c.jsx)(o.Lt.Link,{dataTestId:"header-menu-options-settings",href:Q?`https://${(0,v.Z)()}/settings`:"",onClick:({event:e})=>{if(X){e.stopPropagation(),X();return}es(247)},option:el.settings,children:a&&(Y("dweb_google_connect_persistent_banner_v2").anyEnabled||Y("dweb_password_set_persistent_banner_v2").anyEnabled)&&(0,c.jsxs)(o.kC,{children:[(0,c.jsx)(o.xv,{weight:"bold",children:"Settings"}),(0,c.jsx)(o.kC,{direction:"column",justifyContent:"center",children:(0,c.jsx)(o.xu,{marginStart:2,children:(0,c.jsx)(O.Z,{height:8,width:8})})})]})}),ex=Y("aid_exp_business_manager_dropdown_entrypoint").anyEnabled,eA=null;K&&(eA=ex?(0,c.jsx)(g,{}):(0,c.jsx)(o.Lt.Link,{dataTestId:"header-menu-options-business-access",href:`https://${(0,v.Z)()}/business/business-access/`,onClick:()=>es(11719),option:el.businessAccess}));let eE=(0,c.jsx)(o.Lt.Link,{href:Q?"/edit":"",onClick:({event:e})=>{if(X){e.stopPropagation(),X();return}es(11345)},option:el.homefeedTuner}),eS=!K&&q?(0,c.jsx)(o.Lt.Item,{onSelect:()=>{q.onClick(),e()},option:el.installApp(q.text)}):null,eP=(0,c.jsx)(o.Lt.Link,{dataTestId:"header-menu-options-privacy",href:Q?`https://${(0,v.Z)()}/settings/privacy`:"",onClick:({event:e})=>{if(X){e.stopPropagation(),X();return}es(13334)},option:el.settingsPrivacy}),eI=ec?(0,c.jsx)(o.Lt.Link,{href:Q?"/reports-and-violations":"",onClick:({event:e})=>{if(X){e.stopPropagation(),X();return}es(14618)},option:el.reportsAndViolationsCenter}):null,eC=J?(0,c.jsx)(o.Lt.Link,{href:m??"",isExternal:!0,onClick:()=>{z({event_type:101,element:14321}),es(14321)},option:el.teenSafetyResources}):null,eO=K&&n&&(!t||(0,S.Z)((t||{}).actions||[],7))&&(0,c.jsx)(o.Lt.Link,{dataTestId:"header-menu-options-ads-support",href:C.JbB,isExternal:!0,onClick:()=>es(10106),option:el.adsSupport}),eT=K?(0,c.jsx)(o.Lt.Link,{dataTestId:"header-menu-options-request-a-feature",href:C.W32+"?utm_source=pinterest&utm_medium=settings&utm_campaign=request_a_feature_exp",isExternal:!0,onClick:()=>es(11345),option:el.requestFeature}):null,eL=(0,c.jsx)(o.Lt.Link,{dataTestId:"header-menu-options-help",href:`${C.gOE}?source=gear_menu_web`,isExternal:!0,onClick:()=>es(8002),option:el.getHelp}),ej=(0,c.jsx)(o.Lt.Link,{dataTestId:"header-menu-options-tos",href:C.U5h,isExternal:!0,onClick:()=>es(61),option:el.termsOfService}),ek=(0,c.jsx)(o.Lt.Link,{dataTestId:"header-menu-options-policy",href:C.R_9,isExternal:!0,onClick:()=>es(8004),option:el.privacyPolicy}),eR=(0,c.jsx)(o.Lt.Link,{dataTestId:"header-menu-options-beta-tester",href:C.LOs,isExternal:!0,onClick:()=>es(13613),option:el.betaTester}),eZ=(0,c.jsx)(o.Lt.Item,{dataTestId:"header-menu-options-logout",onSelect:G,option:el.logOut}),eN=e_?(0,c.jsxs)(o.Lt.Section,{label:M._('Your accounts', 'SwitchAccountsList.YourAccountsTitle', 'Title for the list of user\'s accounts available for switching on Switch Account Page'),children:[eh,ep,em,!V?.opt_in_private_account&&eg,!V?.opt_in_private_account&&eb]},"your-accounts"):null,eD=(0,c.jsxs)(o.Lt.Section,{label:M._('Your accounts', 'SwitchAccountsList.YourAccountsTitle', 'Title for the list of user\'s accounts available for switching on Switch Account Page'),children:[eh,ep,em,!V?.opt_in_private_account&&ef,!V?.opt_in_private_account&&eb,ew,eA]},"your-accounts"),eM=(0,c.jsxs)(o.Lt.Section,{label:M._('Content', 'header.accountsOptionsMenu.contentHeader', 'header for content section of menu'),children:[ev,eI,eS]}),ez=(0,c.jsxs)(o.Lt.Section,{label:M._('Help', 'header.accountsOptionsMenu.helpHeader', 'header for help section of menu'),children:[eC,eL,eO,eT,ey]}),eB=(0,c.jsxs)(o.Lt.Section,{label:M._('Privacy', 'header.accountsOptionsMenu.privacyHeader', 'header for privacy section of menu'),children:[ek,eP]}),eU=(0,c.jsxs)(o.Lt.Section,{label:"",children:[ej,eZ]}),eF=(0,c.jsxs)(o.Lt.Section,{label:M._('More options', 'header.accountsOptionsMenu.optionsHeader', 'header for options section of menu'),children:[ey,ew,eA,eE,eS,eO,eT,eI,ev,eP,eC,eL,ej,ek,eR,eZ]});return{yourAccount:K?eD:eN,moreOptions:K?[eM,ez,eB,eU]:eF}}({onDismiss:t,advertiser:n,showAdsSupportOption:a,isWwwSite:r,isPersistentArrUpsellEnabled:l});return(0,c.jsx)($.Z,{children:(0,c.jsxs)(o.Lt,{anchor:e,disableMobileUI:!0,id:"HeaderAccountOptionsFlyout",idealDirection:"down",isWithinFixedContainer:!0,onDismiss:t,zIndex:new o.Ry(1e3),children:[i&&(_?(0,c.jsxs)(o.Lt.Section,{label:d._('Oh no! You\'re no longer logged into', 'header.accountsOptionsMenu.failedAccount', 'Full sentence: "Oh no! You\'re no longer logged into <user\'s account>". Text telling user that they are no longer logged into an account after trying to switch to it'),children:[(0,c.jsx)(o.Lt.Item,{onSelect:()=>{},option:F.failedAccount,children:(0,c.jsx)(y.Z,{user:_})}),(0,c.jsx)(H,{failedAccount:_,handleReauthAccount:z,handleRemoveUnauthAccount:B})]}):[(0,c.jsx)(o.Lt.Section,{label:d._('Currently in', 'SwitchAccountsList.CurrentlyInTitle', 'Title for currently logged in account on Switch Account Page'),children:!!W&&(0,c.jsx)(o.Lt.Item,{onSelect:()=>G?M(W,void 0):m(W),option:F.currentAccount,selected:F.currentAccount,children:(0,c.jsx)(o.rU,{href:r?`/${W.username}/`:`${V.C0}/${W.username}/`,underline:"none",children:(0,c.jsx)(y.Z,{isCurrentAccount:!0,user:W})})})},"currently-in"),q]),Y]})})}let G=e=>["MOBILE","DESKTOP"].includes(e),q=e=>"STERLING"===e,Y=e=>"ANALYTICS"===e;var K=n(205841),J=n(454514),Q=n(739670),X=n(486587),ee=n(624797),et=n(96157),en=n(737811),es=n(13848),ei=n(311694),eo=n(514810),ea=n(983983),er=n(89511),el=n(728277);function ec({currentSite:e,isSterlingOnSteroids:t,isAdsNavMenuEnabled:n,isPersistentArrUpsellEnabled:a,advertiser:r,idealTooltipDirection:l,icon:u,iconSize:d,defaultIconColor:m,selectedIconColor:g,tooltipZIndex:f}){let b=(0,p.ZP)(),{showAccountMenuFlyout:v,updateHeaderState:y}=(0,eo.Z)(),w=e=>{y({type:e?"showAccountMenuFlyout":"hideAccountMenuFlyout"})},[x,A]=(0,s.useState)(!1),[E,S]=(0,s.useState)(!0),C=(0,i.k6)(),L=(0,T.Z)(),j=(0,el.Z)(),k=(0,er.Z)({user:j.data,viewer:L}),R=k&&E,Z=(0,I.Z)({name:"UserResource",options:{field_set_key:"linked_partner",user_id:L.isAuth?L.id:""}}),N=(0,s.useRef)(null),{checkExperiment:D}=(0,P.F)(),M=G(e)&&!t||Y(e)||q(e),z=q(e)||n,B=(0,i.TH)(),U=(0,es.F9)();(0,s.useEffect)(()=>{!function({showOneToast:e,i18n:t,location:n,history:s,username:i,fullName:o,avatarUrl:a}){if(!(n&&n.search))return;let r=(0,X.Z)(t,n,i||""),{message:l}=(0,ee.mB)(n.search),u=l===Q.pN||l===Q.aU;r&&(e(({hideToast:e})=>(0,c.jsx)(J.ZP,{duration:Q.Jl,onHide:e,text:r,thumbnail:u?{avatar:(0,c.jsx)(K.qE,{name:o||"",size:"md",src:a||""})}:void 0})),s.replace(n.hash?`${n.pathname}${n.hash}`:n.pathname))}({showOneToast:U.showOneToast,i18n:b,location:B,history:C,username:L.username||"",fullName:L.fullName||"",avatarUrl:L.imageMediumUrl||""})},[]),(0,s.useEffect)(()=>(L.isAuth&&L.partner&&(0,en.Mt)(L,Z.data),()=>{L.isAuth&&L.partner&&(0,en.CV)("flyout.dismiss")}),[]);let H=()=>{w(!1)};(0,s.useEffect)(()=>{(Z.data?.businesses??[]).length>0&&A(!0)},[Z]);let{pathname:V}=B,$=!(V.startsWith("/settings")||V.startsWith("/edit"))&&(L.username&&V.startsWith(`/${L.username}`)||V.startsWith("/news_hub")),ec=k||V.startsWith("/homefeed")||V.startsWith("/business/hub")||"/"===V;return(0,c.jsx)(ei.T,{children:(0,c.jsx)(F,{children:(0,c.jsxs)(_,{onDismiss:H,children:[(0,c.jsxs)(o.xu,{ref:N,"data-test-id":"header-accounts-options-button",position:"relative",children:[(0,c.jsx)(o.hU,{accessibilityLabel:b._('Accounts and more options', 'header.accountsOptionsMenu.accountsOptionsMenuButton', 'accessibility label for the button that shows the accounts/options menu'),icon:u||"arrow-down",iconColor:v?g||"darkGray":m||"gray",onClick:()=>{w(!v),A(!1),S(!1)},size:d||"xs",tooltip:{accessibilityLabel:"",text:b._('Accounts and more options', 'navbar.actionsOptionsButton.tooltip', 'Tooltip text for icon button to open accounts/options menu'),zIndex:f||new o.H3([new o.Ry(ea.fe)]),idealDirection:l}}),a&&(D("dweb_google_connect_persistent_banner_v2").anyEnabled||D("dweb_password_set_persistent_banner_v2").anyEnabled)&&(0,c.jsx)(o.xu,{dangerouslySetInlineStyle:{__style:{right:"8px"}},position:"absolute",top:!0,children:(0,c.jsx)(O.Z,{height:14,isAbsolute:!0,text:"1",width:14})})]}),v&&(0,c.jsx)(o.xu,{"data-test-id":"HeaderAccountsOptionsFlyout",children:(0,c.jsx)(W,{advertiser:r,anchor:N.current,isPersistentArrUpsellEnabled:a,isWwwSite:G(e),onDismiss:H,showAccountSwitcher:M,showAdsSupportOption:z})}),x&&(0,c.jsx)(o.xu,{"data-test-id":"LinkedBusinessAccountFlyout",children:(0,c.jsx)(h.default,{anchor:N.current,experienceIds:[502787],placementId:1000109,showCaret:!0})}),(0,et.LO)(B)&&(0,c.jsx)(h.default,{anchor:N.current,experienceIds:[503137],idealDirection:"left",placementId:1000303}),L.isAuth&&!L.partner?(0,c.jsx)(h.default,{anchor:N.current,experienceIds:[503893,503602],onClickComplete:()=>C.push("/settings"),placementId:1000109,showCaret:!0}):null,R&&(0,c.jsx)(h.default,{anchor:N.current,experienceIds:[505848],hasFullWidthButton:!1,onClickComplete:()=>{S(!1),C.push("/settings/permissions")},placementId:1000109,showCaret:!0,textWeight:"normal"}),$&&(0,c.jsx)(h.default,{anchor:N.current,experienceIds:[505283],flyoutSize:"md",hasFullWidthButton:!1,onClickComplete:()=>{C.push("/settings/privacy/")},placementId:1000109,showCaret:!0,textAlign:"center",textWeight:"bold"}),ec&&(0,c.jsx)(h.default,{anchor:N.current,experienceIds:[505949],hasFullWidthButton:!1,onClickComplete:()=>{C.push("/settings/claim")},placementId:1000109,showCaret:!0,textWeight:"normal"})]})})})}},434593:(e,t,n)=>{n.d(t,{Z:()=>l});var s=n(883119),i=n(205841),o=n(140017),a=n(785893);function r(e){return e.partner?.isLinkedBusiness?e.partner.businessName||e.fullName||e.username:e.fullName||e.username}function l({user:e,isCurrentAccount:t}){let n=(0,o.ZP)(),l=e.partner;return(0,a.jsxs)(s.xu,{alignItems:"center","data-test-id":"HeaderAccountsOptionsMenuAccountRep",display:"flex",justifyContent:"start",marginEnd:4,rounding:2,children:[(0,a.jsx)(s.xu,{flex:"none",height:60,marginEnd:2,rounding:"circle",width:60,children:(0,a.jsx)(i.qE,{accessibilityLabel:"",name:r(e),src:function(e){let{imageMediumUrl:t}=e;return t&&!t.includes("static/images/user/default")?t:""}(e)})}),(0,a.jsxs)(s.xu,{maxWidth:176,children:[(0,a.jsx)(s.xv,{lineClamp:1,weight:"bold",children:r(e)}),(0,a.jsx)(s.xu,{dangerouslySetInlineStyle:{__style:{marginTop:"2px"}},"data-test-id":"header-account-type-display",children:(0,a.jsx)(s.xv,{color:"subtle",lineClamp:1,size:"200",children:l?n._('Business', 'SwitchAccountsListItem.BusinessAccount.label', 'Label shown for business account in the Account Switcher'):n._('Personal', 'SwitchAccountsListItem.PersonalAccount.label', 'Label shown for personal account in the Account Switcher')})}),t&&(0,a.jsx)(s.xu,{dangerouslySetInlineStyle:{__style:{marginTop:"2px"}},children:(0,a.jsx)(s.xv,{color:"subtle",lineClamp:1,size:"200",children:l?e.partner?.bizContactEmail:e.email})})]})]})}},991326:(e,t,n)=>{n.d(t,{Z:()=>c});var s=n(587703),i=n(737811),o=n(488726),a=n(598753),r=n(149722),l=n(939341);function c(){let e=(0,r.Z)(),t=(0,s.Z)(),n=(0,o.aU)(),{headerVisible:c,activeClient:u,changeClient:d}=(0,l.a)()||{};return function(){if(t({event_type:101,component:8,element:8005}),c&&u){d();return}(0,a.lv)()>1?(e.isAuth&&((0,i.RD)(e.id),(0,i.CV)("utils.user_deleted",{deleted_user:e.id})),n({redirectUrl:"/",source:"user_header",localStorageItems:(0,a.Q)()})):((0,i.CV)("utils.group_deleted"),n({redirectUrl:"/",source:"user_header"}))}}},404891:(e,t,n)=>{n.d(t,{Z:()=>f});var s=n(667294),i=n(616550),o=n(216167),a=n(316353),r=n(214877),l=n(322079),c=n(30378),u=n(307772),d=n(737811),_=n(702497),h=n(149722),p=n(311694),m=n(794109),g=n(953565);function f(e,t){let{flushContextEvents:n,logContextEvent:f}=(0,r.v)(),[b,v]=(0,s.useState)(!1),[y,w]=(0,s.useState)(null),x=(0,i.k6)(),A=(0,h.Z)(),{showAccountSwitcherLoginModal:E}=(0,p.g)(),S=()=>{E("account_switcher_flyout",y?.email)},{userAccounts:P}=(0,m.N)(),{data:I}=(0,a.iY)(),C=(0,l.Z)(),O=!!(A.isAuth&&!A.partner&&I?.businesses)&&0===I.businesses.length;(0,s.useEffect)(()=>(A.isAuth&&(0,d.Mt)(A,I),()=>{(0,d.CV)("flyout.dismiss")}),[]),(0,s.useEffect)(()=>((0,d.CV)("modal.shown"),()=>{(0,d.CV)("modal.dismiss")}),[]),(0,s.useEffect)(()=>{P.length>1&&f({event_type:13,view_type:234,component:13369,element:12722})},[f,P]);let T=(e,t)=>{throw(0,d.z3)(e,"account_switcher_flyout"),v(!1),t},L=e=>{let{id:t}=e;v(!0),f({event_type:101,component:13369,element:11196}),(0,d.CV)("switch_account_click",{destination_user_id:t},"account_switcher_flyout"),c.Z.pause(u.LU),n(!0),C({creds:{get_user:!0,switch_account:t},loggingOptions:{loggingData:{container:"account_switcher"},loginAttemptContextEvent:{event_type:7534,view_type:234,component:13369,aux_data:{upsell_reason:"account_switcher"}}},isAccountSwitch:!0}).then((n={})=>{n?.resource_response.data?.user?(0,d.iS)("/",t,"account_switcher_flyout"):((0,d.CV)("no_api_access_token",{destination_user_id:t},"account_switcher_flyout"),(0,d.z3)(t,"account_switcher_flyout"),w(e),v(!1))},e=>{T(t,e)})};return{failedAccount:y,fetchedUserAccounts:P,handleAccountRepClick:e=>{A.isAuth&&e.id!==A.id&&L(e)},handleAddSecondaryAccount:()=>{(0,d.CV)("add_account_click",null,"account_switcher_flyout"),f({event_type:101,component:8,element:12756}),e(),x.push(_.rOJ)},handleClick:t=>{13290!==t&&f({event_type:101,component:8,element:t}),e()},handleLinkedAccountSwitch:(e,s)=>{let{partner:i}=e;if(v(!0),f({event_type:101,component:13369,element:i?.isLinkedBusiness?11195:11194}),c.Z.pause(u.LU),n(!0),i?.isLinkedBusiness){let t={business_id:e.id,get_user:!0,owner_id:s};(0,g.nP)("web.partner.linked_business_account.switch_account_attempt",{sampleRate:1}),C({creds:t,loggingOptions:{loggingData:{container:"account_switcher"},loginAttemptContextEvent:{event_type:7534,view_type:234,component:13369}},isAccountSwitch:!0}).then(()=>{(0,g.nP)("web.partner.linked_business_account.switch_account_success",{sampleRate:1}),(0,d.iS)("/",e.id,"account_switcher_flyout")},t=>{T(e.id,t)})}else o.Z.create("UserSessionResource",{disable_auth_failure_redirect:!0}).callDelete().then(()=>{A.isAuth&&((0,d.RD)(A.id),(0,d.iS)(t?`/${e.username}`:"/",A.id,"account_switcher_flyout"))},e=>{A.isAuth&&T(A.id,e)})},handleReauthAccount:()=>{(0,d.CV)("switch_failure_prompt.login_click",null,"account_switcher_flyout"),w(null),S()},handleRemoveUnauthAccount:e=>{(0,d.CV)("switch_failure_prompt.account_removed",{removed_user_id:e},"account_switcher_flyout"),(0,d.RD)(e),w(null)},handleUnlockBusinessTools:()=>{e(),A.isAuth?window.location.href="https://www.pinterest.com/convert-business":x.push(`${_.KDH}?utm_source=pinterest&utm_medium=settings&utm_campaign=convert_settings`),f({event_type:101,component:8,element:10299})},isLoading:b,showUnlockBusinessTools:O}}},42068:(e,t,n)=>{n.d(t,{Z:()=>s});function s(e,t){return e.includes(t)||e.includes(80)}},263032:(e,t,n)=>{n.d(t,{YS:()=>a,eF:()=>r,m_:()=>o});var s=n(934378),i=n(953565);function o(e,t,n,o,a){let r=new URLSearchParams,l=t.reduce((e,t)=>{if(null!=t){let n=function(e){let t;try{t=decodeURIComponent(e)}catch(n){t=e}t.startsWith("http")?t.startsWith("http://")&&(t=t.replace("http://","https://")):t="https://"+t;try{return new URL(t).origin}catch(s){let n=t.match(/^(https?:\/\/[^\/]+)(\/|$)/);if(n&&n.length>1)return n[1];return e}}(t);return e.add(n)}return e},new Set);r.append(s.NR.SOURCE_EVENT_ID,e??"0"),r.append(s.NR.DESTINATION,JSON.stringify([...l])),r.append(s.NR.EXPIRY,n?s.uV:s.ug),r.append(s.NR.PRIORITY,n?s.NR.CLICK_PRIORITY:s.NR.VIEW_PRIORITY),a&&r.append(s.NR.ADVERTISER_ID,a),o&&r.append(s.NR.CAMPAIGN_ID,o),r.append(s.NR.SOURCE_EVENT_TYPE,n?s.bC:s.Cu);try{let{hostname:e}=new URL(window.location.href);"www.pinterest.com"!==e&&r.append(s.NR.HOSTNAME,e)}catch(e){(0,i.nP)("webapp.arapi.generateARASourceEventURL",{sampleRate:.1,tags:{status:"failed",href:window&&window.location&&window.location.href}})}return"https://www.pinterest.com/attribution_source/?"+r.toString()}async function a(e,t,n,s,a,r,l,c,u){let d;let{appType:_,osType:h}=r||{},p="",m="";if(["Pin","pinImpressions"].includes(e)&&t&&(s||c||u)){(0,i.nP)("webapp.arapi.view.funnel",{sampleRate:.1,tags:{status:"start",appType:_,osType:h}});try{if(!window.document.featurePolicy?.allowsFeature("attribution-reporting")){(0,i.nP)("webapp.arapi.view.funnel",{sampleRate:.1,tags:{status:"skipped",message:"attribution-reporting is not enabled",appType:_,osType:h}});return}p=o(n,[s,c,u],!1,a,l);try{m=new URL(window.location.href).hostname}catch(e){(0,i.nP)("webapp.arapi.view.funnel",{sampleRate:.1,tags:{status:"hostname_parse_failed",href:window&&window.location&&window.location.href}})}if(m&&"www.pinterest.com"!==m)document.createElement("img").setAttribute("attributionsrc",p),(0,i.nP)("webapp.arapi.view.funnel",{sampleRate:.1,tags:{status:"international",appType:_,osType:h,hostname:m}});else if(!(d=await window.fetch(p,{keepalive:!0,attributionReporting:{eventSourceEligible:!0,triggerEligible:!1}})).ok)throw Error("server request failed.");(0,i.nP)("webapp.arapi.view.funnel",{sampleRate:.1,tags:{status:"success",appType:_,osType:h}})}catch(e){(0,i.nP)("webapp.arapi.view.funnel",{sampleRate:.1,tags:{status:"failed",error:e.name,message:e.message,appType:_,osType:h,hostname:m,responseStatus:d&&d.status}})}}else(0,i.nP)("webapp.arapi.view.funnel",{sampleRate:.1,tags:{status:"missing_param",appType:_,osType:h}})}function r(e){if(e){let t=e.toLowerCase();if(t.includes("windows"))return"windows xp"===t?1:"windows vista"===t?2:"windows 7"===t?3:"windows 8"===t?4:12;if(t.includes("mac os"))return 5;if(t.includes("android"))return 7;if(t.includes("ios"))return 6;if(t.includes("ubuntu"))return 8;if(t.includes("chromium os"))return 13}return 0}},86785:(e,t,n)=>{n.d(t,{G6:()=>o,i7:()=>a,oi:()=>s,u$:()=>i,un:()=>l,vU:()=>r,w1:()=>c});let s=Object.freeze({OTHER:0,CHROME:1,SAFARI:2,IE:3,FIREFOX:4,OPERA:5,EDGE:6}),i=e=>e?e.includes("Chrome")?s.CHROME:e.includes("Safari")?s.SAFARI:e.includes("Firefox")?s.FIREFOX:e.includes("Opera")?s.OPERA:e.includes("IE")?s.IE:e.includes("Edge")?s.EDGE:s.OTHER:s.OTHER;function o(e){return i(e)===s.SAFARI}function a(e){return i(e)===s.CHROME}function r(e){return i(e)===s.FIREFOX}function l(e){return i(e)===s.EDGE}function c(e){return i(e)===s.IE}},807657:(e,t,n)=>{n.d(t,{Z:()=>a});var s=n(29156),i=n(217058),o=n(968946);let a=(e,t)=>{t?.disableOriginCheck||(0,o.Z)(e)||(e="/",(0,i.My)("url_reset")),(0,s.Z)(e)}},114267:(e,t,n)=>{n.d(t,{Z:()=>s});let s={GOOGLE_ADWORDS_ID:852082959,GOOGLE_ADWORDS_LABEL_PROPEL_QUALIFIED:"Mah3CPrv13YQj4KnlgM",GOOGLE_ADWORDS_LABEL_PROPEL_UNQUALIFIED:"_DJfCKzy13YQj4KnlgM",GOOGLE_ADWORDS_LABEL_BUSINESS_CREATE:"GGbCCM7p-nYQj4KnlgM",GOOGLE_ADWORDS_LABEL_BUSINESS_CONVERT:"SwBsCIz9k3cQj4KnlgM",GOOGLE_ADWORDS_LABEL_BUSINESS_ADVERTISER_INTENT:"kDf0COWL4okBEI-Cp5YD",DOUBLECLICK_TAG_ID:"8032161",DOUBLECLICK_EVENT_ID_PROPEL:"prope001",DOUBLECLICK_CATEGORY_ID_PROPEL_QUALIFIED:"pinte0",DOUBLECLICK_CATEGORY_ID_PROPEL_UNQUALIFIED:"pinte00",TRADEDESK_ADVERTISER_ID:"fc1uc9n",TRADEDESK_EVENT_ID_GENERAL_PAGEVIEW:"ogalyt3",TRADEDESK_CONVERSION_ID_PROPEL_QUALIFIED:"judrn76",TRADEDESK_CONVERSION_ID_PROPEL_UNQUALIFIED:"f0v4s5d",FACEBOOK_ADVERTISER_ID:"956400731086791",TWITTER_UNIVERSAL_TAG_ID:"nuzh8",TWITTER_CONVERSION_ID_PROPEL_QUALIFIED:"ny8zl",TWITTER_CONVERSION_ID_PROPEL_UNQUALIFIED:"nya0d",LINKEDIN_PARTNER_ID:"44352",LINKEDIN_CONVERSION_ID_PROPEL_QUALIFIED:"166217",LINKEDIN_CONVERSION_ID_PROPEL_UNQUALIFIED:"171754",LINKEDIN_CONVERSION_ID_SUBMISSION_EVENT:"529092",PINTEREST_TAG_ID:"2614461171935",SMB_PAID_PINTEREST_ID:"2613736141997"}},137831:(e,t,n)=>{function s(e,t,n){var s;return(t="symbol"==typeof(s=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var s=n.call(e,t||"default");if("object"!=typeof s)return s;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?s:String(s))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n.d(t,{Z:()=>o});class i{static reportGoogleConversion(e,t,n,s){if(!s){if(void 0===window.gtag_report_conversion){i.queuedGoogleConversions.push({id:e,label:t,url:n});return}window.gtag_report_conversion(e,t,n)}}static reportFacebookConversion(e,t,n){if(void 0===window.fbq){i.queuedFacebookConversions.push({id:e,event:t,data:n});return}n?window.fbq("track",t,n):window.fbq("track",t)}static reportCustomFacebookConversion(e,t,n){if(void 0===window.fbq){i.queuedFacebookConversions.push({id:e,isCustomEvent:!0,event:t,data:n});return}n?window.fbq("trackCustom",t,n):window.fbq("trackCustom",t)}static reportPinterestConversion(e,t,n){if(void 0===window.pintrk){i.queuedPinterestConversions.push({id:e,event:t,data:n});return}n?window.pintrk("track",t,n):window.pintrk("track",t)}static reportTheTradeDeskConversion(e,t){let n=document.createElement("img");n.setAttribute("height","1"),n.setAttribute("width","1"),n.setAttribute("role","presentation"),n.style.borderStyle="none",n.style.position="absolute",n.setAttribute("src",`//insight.adsrvr.org/track/conv/?adv=${e}&ct=0:${t}&fmt=3`),document.body.insertBefore(n,document.body.lastChild)}static reportLinkedInConversion(e,t){let n=document.createElement("img");n.setAttribute("width","1"),n.setAttribute("height","1"),n.setAttribute("role","presentation"),n.setAttribute("src",`https://dc.ads.linkedin.com/collect/?pid=${e}&conversionId=${t}&fmt=gif`),n.style.display="none",document.body.insertBefore(n,document.body.lastChild)}static reportDoubleClickConversion(e,t,n){let s=1e13*Math.random(),i=document.createElement("iframe");i.setAttribute("width","1"),i.setAttribute("height","1"),i.setAttribute("frameborder","0"),i.setAttribute("src",`https://${e}.fls.doubleclick.net/activityi;src=${e};
    type=${t};cat=${n};dc_lat=;dc_rdid=;tag_for_child_directed_treatment=;ord=${s}?`),i.style.display="none",document.body.insertBefore(i,document.body.lastChild)}static insertGoogleAdWordsTag(e,t){let n=document.createElement("script");t||(n.setAttribute("async",""),n.setAttribute("src",`https://www.googletagmanager.com/gtag/js?id=AW-${e}`),n.onload=()=>{window.dataLayer=window.dataLayer||[],window.gtag=function(e,t,n){window.dataLayer.push(arguments)},window.gtag("js",new Date),window.gtag("config","AW-"+e),window.gtag_report_conversion=function(e,t,n){return window.gtag("event","conversion",{send_to:"AW-"+e+"/"+t,event_callback:function(){void 0!==n&&window.location.assign(n)}}),!1};let n=i.queuedGoogleConversions;for(let s=0;s<n.length;s+=1){let o=n[s];o.id===e&&i.reportGoogleConversion(o.id,o.label,o.url,t)}}),document.body.insertBefore(n,document.body.firstChild)}static insertFacebookPixelTag(e){var t,n,s,o,a,r,l;t=window,n=document,s="script",o="//connect.facebook.net/en_US/fbevents.js",t.fbq||(a=t.fbq=function(){"function"==typeof a.callMethod?a.callMethod(...arguments):a.queue.push(arguments)},t._fbq||(t._fbq=a),a.push=a,a.loaded=!0,a.version="2.0",a.queue=[],(r=n.createElement(s)).async=!0,r.src=o,(l=n.getElementsByTagName(s)[0]).parentNode.insertBefore(r,l)),window.fbq("init",e),window.fbq("track","PageView");let c=i.queuedFacebookConversions;for(let t=0;t<c.length;t+=1){let n=c[t];n.id===e&&(n.isCustomEvent?i.reportCustomFacebookConversion(e,n.event,n.data):i.reportFacebookConversion(e,n.event,n.data))}}static insertPinterestTag(e){!function(e){if(!window.pintrk){window.pintrk=function(){window.pintrk.queue.push(Array.prototype.slice.call(arguments))};let t=window.pintrk;t.queue=[],t.version="3.0";let n=document.createElement("script");n.async=!0,n.src=e;let s=document.getElementsByTagName("script")[0];s.parentNode.insertBefore(n,s)}}("https://s.pinimg.com/ct/core.js"),window.pintrk("load",e),window.pintrk("page");let t=i.queuedPinterestConversions;for(let n=0;n<t.length;n+=1){let s=t[n];s.id===e&&i.reportPinterestConversion(e,s.event,s.data)}}}s(i,"queuedGoogleConversions",[]),s(i,"queuedFacebookConversions",[]),s(i,"queuedPinterestConversions",[]);let o=i},316353:(e,t,n)=>{n.d(t,{OS:()=>o,iY:()=>a});var s=n(757640),i=n(149722);let o=4;function a(){let e=(0,i.Z)();return(0,s.Z)({name:"UserResource",options:{field_set_key:"linked_partner",user_id:e.isAuth&&e.id}})}},259866:(e,t,n)=>{n.d(t,{Z:()=>s});function s(e){return function e(t,n){let s;if(null==t||"object"!=typeof t&&"function"!=typeof t)return t;let i=n.find(e=>e.value===t);if(i)return i.result;let o=Object.prototype.toString.call(t);switch(o){case"[object Array]":s=Array(t.length);break;case"[object Set]":s=new Set;break;case"[object Object]":case"[object Arguments]":s={};break;case"[object Map]":s=new Map;break;default:return t}let a=[...n,{value:t,result:s}];switch(o){case"[object Array]":t.forEach((t,n)=>{s[n]=e(t,a)});break;case"[object Set]":t.forEach(t=>{s.add(e(t,a))});break;case"[object Object]":case"[object Arguments]":Object.entries(t).forEach(([t,n])=>{s[t]=e(n,a)});break;case"[object Map]":t.forEach((t,n)=>{s.set(n,e(t,a))})}return s}(e,[])}},65775:(e,t,n)=>{n.d(t,{Z:()=>a});var s=n(883119),i=n(140017),o=n(785893);function a(){let e=(0,i.ZP)();return(0,o.jsx)(s.kC,{alignItems:"center",justifyContent:"center",children:(0,o.jsx)(s.$j,{accessibilityLabel:e._('Loading signup form', ' - ', ' -- '),show:!0})})}},847160:(e,t,n)=>{n.d(t,{Bx:()=>i,N4:()=>a,is:()=>r,lt:()=>s,oM:()=>o});let s=e=>e._('You\'re almost there! Log in to access all of Pinterest', 'loginModal.limitedLogin.subheader', 'Subheader text on personalized login modal/flyout to remind users to log in'),i=e=>e._('Log in to save this Pin', 'limitedLogin.modalHeader.repin', 'Title on mobile web limited login modal to prompt users to login after they clicked save button.'),o=e=>e._('Log in to edit this Pin', 'limitedLogin.modalHeader.editPin', 'Title on mobile web limited login modal to prompt users to login after they clicked edit button.'),a=({i18n:e,toFollow:t})=>t?e._('Log in to follow', 'limitedLogin.modalHeader.follow', 'Title on mobile web limited login modal to prompt users to login to follow a user or board.'):e._('Log in to unfollow', 'limitedLogin.modalHeader.unfollow', 'Title on mobile web limited login modal to prompt users to login to unfollow a user or board.'),r=e=>e._('Log in to create a Pin or board', 'limitedLogin.modalHeader.create', 'Title on mobile web limited login modal to prompt users to login to create a Pin or board.')},515278:(e,t,n)=>{n.d(t,{Z:()=>a});var s=n(847160),i=n(140017),o=n(166770);let a=()=>{let{loginForMore:e,viewer:t,limitedLoginModalSubheader:n}=(0,o.H)(),a=(0,i.ZP)();return"AUTH"===t.type?null:t=>{e?.setVisible(!0),n?.setText(t?.loginModalHeader||s.lt(a))}}},307772:(e,t,n)=>{function s(e,t,n){var s;return(t="symbol"==typeof(s=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var s=n.call(e,t||"default");if("object"!=typeof s)return s;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?s:String(s))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n.d(t,{Z3:()=>d,LU:()=>_,ZP:()=>h});let i=window.location.search.includes("debug_impressions=1")||document.cookie&&document.cookie.indexOf("debug_impressions=1")>-1,o={paused:"Pause",resumed:"Resume",stopped:"Flush",enter:"Enter viewport",exit:"Exit viewport"},a={},r={background:"#FF8A8A",transform:"scale(.98)"},l={init:e=>({transform:`scale(${a[e]?.8:.99})`,transition:"transform .2s ease-in-out",background:"#8E8E8E"}),[o.enter]:{background:"#A0DCC8",transform:"scale(.99)"},[o.exit]:r,[o.stopped]:r,[o.paused]:r,[o.resumed]:{background:"#0FA573",transform:"scale(.99)"}};class c{constructor(e){s(this,"setMutationObserver",e=>(this.mutationObserver=e,this)),s(this,"startMutationObserver",e=>{this.mutationObserver&&this.mutationObserver.observe(this.node,e)}),s(this,"stopMutationObserver",()=>{this.mutationObserver&&this.mutationObserver.disconnect()}),s(this,"handleIntersectionChange",e=>{let t=e.intersectionRatio>0||e.isIntersecting,n=Date.now();e.intersectionRatio>0&&!this.visibleEvents.has(1)&&this.visibleEvents.set(1,n),e.intersectionRatio>.5?this.visibleEvents.has(50)||this.visibleEvents.set(50,n):this.visibleEvents.has(50)&&!this.hiddenEvents.has(50)&&this.hiddenEvents.set(50,n),e.intersectionRatio>.8?this.visibleEvents.has(80)||this.visibleEvents.set(80,n):this.visibleEvents.has(80)&&!this.hiddenEvents.has(80)&&this.hiddenEvents.set(80,n),1!==e.intersectionRatio||this.visibleEvents.has(2)||this.visibleEvents.set(2,n),e.boundingClientRect.top<=143&&this.visibleEvents.has(1)&&!this.hiddenEvents.has(1)&&this.hiddenEvents.set(1,n),e.boundingClientRect.bottom<=143&&this.visibleEvents.has(2)&&!this.hiddenEvents.has(2)&&this.hiddenEvents.set(2,n),t&&!this.inViewport?(this.startTime=n,this._debug(o.enter,{startTime:n,node:this.node}),this.enterCallbacks.forEach(e=>e())):!t&&this.inViewport&&(this._debug(o.exit,!0),this.exitCallbacks.forEach(e=>e(this.toJSON()))),this.inViewport=t}),this.enterCallbacks=[],this.exitCallbacks=[],this.inViewport=!1,this.node=e,this.startTime=0,this.debugId="",this.visibleEvents=new Map,this.hiddenEvents=new Map}onEnterViewport(e){return this.enterCallbacks.push(e),this}onExitViewport(e){return this.exitCallbacks.push(e),this}setDebugId(e){return this.debugId=e,i&&Object.assign(this.node.style,l.init(e)),this}pause(){return this.inViewport&&(this._debug(o.paused,!0),this.exitCallbacks.forEach(e=>e(this.toJSON()))),this}resume(){if(this.inViewport){let e=Date.now();this._debug(o.resumed,{startTime:e}),this.startTime=e}return this}stop(e){return this.inViewport&&(this._debug(o.stopped,!0),this.exitCallbacks.forEach(t=>t(this.toJSON(e)))),this}toJSON(e=""){return{startTime:1e6*this.startTime,endTime:1e6*Date.now(),forcedExit:e,hiddenEvents:this.hiddenEvents,visibleEvents:this.visibleEvents}}toDebugJSON(){return{pinID:this.debugId,startTime:this.startTime,endTime:Date.now(),duration:`${(Date.now()-this.startTime)/1e3} seconds`}}_debug(e,t){if(i)switch(window.console.log(`ðŸ“Œ ${e} -- ${this.debugId}`),!0===t&&window.console.log(this.toDebugJSON()),"object"==typeof t&&window.console.log(t),l[e]&&Object.assign(this.node.style,l[e]),e){case o.flushed:case o.paused:case o.exit:a[this.debugId]=!0}}}function u(e,t,n){var s;return(t="symbol"==typeof(s=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var s=n.call(e,t||"default");if("object"!=typeof s)return s;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?s:String(s))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}let d=!0,_=!1;class h{constructor(){u(this,"_delegateChange",e=>{e.forEach(e=>{let t=this.activeImpressions.get(e.target);t&&t.handleIntersectionChange(e)})}),u(this,"_handleMutations",(e,t)=>{let n=this.mutationObservers.get(t);n&&n.offsetHeight<1&&n&&this.stop(n,"removed")}),this.activeImpressions=new Map,this.mutationObservers=new Map,this.bottomHeight=0,this.bottomObstructions=new Set,this.pausePriority=_,this.observer=new window.IntersectionObserver(this._delegateChange),window.Cypress&&!window.activeImpressions&&(window.activeImpressions=new Map),this.paused=!1,this.topHeight=0,this.topObstructions=new Set,this.inExperiment=!1}setExperimentStatus(e){this.inExperiment!==e&&(this.inExperiment=e)}stop(e,t=""){let n=this.activeImpressions.get(e);n&&(n.stop(t),this.mutationObservers.delete(n.mutationObserver),n.stopMutationObserver(),this.activeImpressions.delete(e),window.activeImpressions?.delete(e),this.observer.unobserve(e))}start(e){let t=this.activeImpressions.get(e);return t||(t=new c(e),this.activeImpressions.set(e,t),window.activeImpressions?.set(e,t),this.observer.observe(e),t.setMutationObserver(new window.MutationObserver((e,t)=>this._handleMutations(e,t))),this.mutationObservers.set(t.mutationObserver,e),t.startMutationObserver({subtree:!0,attributes:!0,attributeFilter:["style"]})),t}pause(e=d){this.paused||(Array.from(this.activeImpressions.values()).forEach(e=>e.pause()),this.paused=!0,this.pausePriority!==_||(this.pausePriority=e))}resume(e=d){(e!==_||this.pausePriority!==d)&&this.paused&&(Array.from(this.activeImpressions.values()).forEach(e=>e.resume()),this.paused=!1,this.pausePriority=_)}addObstruction(e,t){"top"===e?this.topObstructions.add(t):"bottom"===e&&this.bottomObstructions.add(t),this._calculateRootMargins()}removeObstruction(e,t){"top"===e?this.topObstructions.delete(t):"bottom"===e&&this.bottomObstructions.delete(t),this._calculateRootMargins()}updateObstructions(){this._calculateRootMargins()}_calculateRootMargins(){let e=Array.from(this.topObstructions).reduce((e,t)=>{let{bottom:n}=t.getBoundingClientRect();return n>e?n:e},0),t=window.innerHeight-Array.from(this.bottomObstructions).reduce((e,t)=>{let{top:n}=t.getBoundingClientRect();return n<e?n:e},window.innerHeight);if(e!==this.topHeight||t!==this.bottomHeight){let n={rootMargin:`${-e}px 0px ${-t}px`,threshold:[0,.5,.8,1]};this.observer.disconnect(),this.observer=new window.IntersectionObserver(this._delegateChange,n),Array.from(this.activeImpressions.values()).forEach(e=>this.observer.observe(e.node)),this.topHeight=e,this.bottomHeight=t}}}},30378:(e,t,n)=>{n.d(t,{Z:()=>s});let s=new(n(307772)).ZP},769666:(e,t,n)=>{n.d(t,{Z:()=>_});var s=n(372085),i=n(217058),o=n(224796),a=n(191313),r=n(407053),l=n(264985),c=n(543975),u=n(926234),d=n(67661);async function _(e){let t=(0,d.ZP)(),n=(0,l.nR)(),_=(0,c.d)(),h=t?t.map(({pageType:e,...t})=>t):null,p={is_register:e??!1};if(h&&(p.unauth_visited_pages=JSON.stringify(h)),n&&(p.invite_redemption=JSON.stringify(n)),_&&(p.paid_landing=JSON.stringify(_)),h||n||_){let e=await (0,s.Z)({url:"/v3/orientation/user_landing_signals/",method:"POST",data:p});(0,i.My)(`landing_signals.flush.${e.status}`),(0,d.t_)()&&(0,a.L_)(r.tz),(0,a.qn)(o.ny)&&(0,a.L_)(o.ny),(0,a.qn)(o.Vb)&&(0,a.L_)(o.Vb),(0,l.nR)()&&((0,a.L_)(r.Lg),(0,a.L_)(r.dx)),(0,c.d)()&&(0,a.L_)(r.eV),(0,u.O)()&&(0,a.L_)(r.fo)}}},739670:(e,t,n)=>{n.d(t,{Di:()=>a,Jl:()=>s,R:()=>i,aU:()=>r,j2:()=>o,pN:()=>l});let s=1e4,i="permanent_account_closure",o="account_deletion_email_sent",a="account_deactivated",r="unlink_successful",l="account_switch_to_settings"},486587:(e,t,n)=>{n.d(t,{Z:()=>o});var s=n(169346),i=n(624797);function o(e,t,n=""){if(!(t&&t.search))return"";let{message:a}=(0,i.mB)(t.search),r=(0,i.mB)(t.search).username||n,l="true"===(0,i.mB)(t.search).multiple_accounts;return(0,s.Z)({i18n:e,message:a,multipleAccounts:l,username:r})}},169346:(e,t,n)=>{n.d(t,{Z:()=>l});var s=n(883119),i=n(339001),o=n(739670),a=n(785893);function r(e,t,n){return(0,a.jsx)(s.xv,{align:n||"center",children:(0,i.nk)(e,{username:(0,a.jsx)(s.xv,{inline:!0,weight:"bold",children:t})})})}function l({i18n:e,message:t,multipleAccounts:n,username:s=""}){switch(t){case o.R:return e._('Your account has been deleted. We\'re sad to see you go', 'unauthLoginPage.accountDeletedToast.message', 'Confirmation message after a user has successfully deleted their account');case o.j2:if(n)return r(e._('An email has been sent with final steps to delete your account, {{username}} and its linked accounts', 'accountDeletedEmailToast.message.multipleAccounts', 'Confirmation message after a user has successfully requested multiple accounts deletion'),s);return r(e._('An email has been sent with final steps to delete your account, {{username}}', 'accountDeletedEmailToast.message.singleAccount', 'Confirmation message after a user has successfully requested a single account deletion'),s);case o.Di:return r(n?e._('The account, {{username}}, and its associated linked accounts have been deactivated', 'unauthLoginPage.deactivatedToast.message.multipleAccounts', 'Confirmation message after a user has successfully deactivated multiple accounts'):e._('The account, {{username}}, has been deactivated', 'unauthLoginPage.deactivatedToast.message.singleAccount', 'Confirmation message after a user has successfully deactivated a single account'),s);case o.aU:return r(e._('Success! You\'ve unlinked this business account. You are currently in {{username}}.', 'authHomeFeedPage.unlinkAccountToast.message', 'Confirmation message after a user has successfully unlinked business account'),s,"start");case o.pN:return r(e._('You\'ve switched into and are currently in the account {{username}}', 'accountSettings.switchAccountToAccountChanges', 'Confirmation message after a user has successfully switched accounts and got redirected to Account Changes'),s,"start");default:return""}}},737811:(e,t,n)=>{n.d(t,{CV:()=>r.Z,Mt:()=>u,RD:()=>c,iS:()=>d,z3:()=>_});var s=n(29156),i=n(30378),o=n(307772),a=n(54576),r=n(300494),l=n(598753);let c=e=>{let t={...(0,l.rl)()};delete t[e],(0,l.r8)(t)},u=(e,t)=>{if(!(0,l.PE)()||e&&!(e.id in(0,l.rl)())){if(e.partner&&e.partner.is_linked_business&&t){(0,a.Z)({...e,email:t.partner&&t.partner.is_linked_business?t.partner.biz_ownership_email:""});return}(0,a.Z)(e)}},d=(e,t,n)=>{(0,r.Z)("switch_account_success",{destination_user_id:t},n),(0,s.Z)(e)},_=(e,t)=>{i.Z.resume(o.Z3),(0,r.Z)("switch_account_failure",{destination_user_id:e},t)}},705895:(e,t,n)=>{function s(e,t,n){var s;return(t="symbol"==typeof(s=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var s=n.call(e,t||"default");if("object"!=typeof s)return s;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?s:String(s))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n.d(t,{Z:()=>a});let i=new class{constructor(){s(this,"onResumeListeners",[]),s(this,"onPauseListeners",[]),s(this,"inExp",!1),s(this,"windowInFocus",!0)}setExperiment(e=!1){this.inExp=e}onSessionResume(e){return this.onResumeListeners.push(e),this}onSessionPause(e){return this.onPauseListeners.push(e),this}removeResumeListener(e){this.onResumeListeners.filter(t=>t!==e)}removePauseListener(e){this.onPauseListeners=this.onPauseListeners.filter(t=>t!==e)}getAppState(){return this.windowInFocus?0:void 0}},o=e=>{if(e.isHidden){let{reason:t}=e;i.windowInFocus=!1,i.onPauseListeners.forEach(e=>e(t))}else i.windowInFocus=!0,i.onResumeListeners.forEach(e=>e())};setTimeout(()=>{window.addEventListener("beforeunload",()=>o({isHidden:!0,reason:"beforeunload"})),window.addEventListener("focus",()=>o({isHidden:!1})),window.addEventListener("blur",()=>o({isHidden:!0,reason:"blur"})),window.addEventListener("pageshow",()=>o({isHidden:!1})),window.addEventListener("pagehide",()=>o({isHidden:!0,reason:"pagehide"})),void 0!==document.hidden?document.addEventListener("visibilitychange",()=>o(document.hidden?{isHidden:!0,reason:"visibilitychange"}:{isHidden:!1}),!1):void 0!==document.webkitHidden&&document.addEventListener("webkitvisibilitychange",()=>o(document.webkitHidden?{isHidden:!0,reason:"visibilitychange"}:{isHidden:!1}),!1)},0);let a=i},729817:(e,t,n)=>{n.d(t,{Kw:()=>r,RD:()=>l,dD:()=>u});var s=n(216167),i=n(372085),o=n(598753);let a=["partner.biz_ownership_email","partner.business_name","partner.contact_email","partner.contact_phone","partner.contact_phone_country()","partner.enable_profile_address","partner.enable_profile_message","partner.is_linked_business","partner.profile_place()","place.country","place.extra_street","place.locality","place.postal_code","place.region","place.street","user.businesses()","user.email","user.fast_advertiser_info_has_any_managed_advertisers","user.full_name","user.id","user.image_medium_url","user.owners()","user.partner()","user.username"],r=async()=>{let e=await s.Z.create("UserSessionResource",{session_accounts:!0}).callCreate();return e.resource_response.data?.session_accounts||{}},l=(e,t)=>{let n=Object.freeze({});try{n=(0,o.rl)()}catch{e(`${t}.removeAccountDataFromLocalStorage.jsonParseFailed`)}let s=Object.keys(n);if(e(`${t}.removeAccountDataFromLocalStorage.start`),0===s.length||n[s[0]].logged_in){e(`${t}.removeAccountDataFromLocalStorage.early_return`);return}let i=s.reduce((e,t)=>({...e,[t]:{logged_in:!0}}),{});(0,o.r8)(i),e(`${t}.removeAccountDataFromLocalStorage.updated`)},c=e=>({id:e.id,username:e.username,email:e.email,fullName:e.full_name,imageMediumUrl:e.image_medium_url,imageLargeUrl:e.image_large_url||"",owners:e.owners||null,partner:e.partner?{bizContactEmail:e.partner?.contact_email||"",bizOwnershipEmail:e.partner?.biz_ownership_email||e.email||"",businessName:e.partner?.business_name,isLinkedBusiness:e.partner?.is_linked_business}:null,businesses:(e?.businesses||[]).map(t=>({...c(t),partner:{bizContactEmail:t.partner?.contact_email||"",bizOwnershipEmail:t.partner?.biz_ownership_email||e.email||"",businessName:t.partner?.business_name??"",isLinkedBusiness:t.partner?.is_linked_business??!1}}))}),u=async e=>{let t=await r(),n=e.id;t[n]||(t[n]={logged_in:!0});let s=Object.keys(t||{}).map(e=>({uri:`v3/users/${e}/`,method:"GET",params:{fields:a.join(",")}})),o=(await (0,i.Z)({url:"/v3/batch/",method:"POST",data:{requests:JSON.stringify(s)}})).resource_response.data;return o&&Object.keys(o).length>0?function(e){let t=e.every(e=>!!e.fullName)?"fullName":"username";return[...e].sort((e,n)=>e[t]>n[t]?1:n[t]>e[t]?-1:0)}(Object.keys(o).filter(e=>"success"===o[e].status).map(e=>c(o[e].data))):[]}},508218:(e,t,n)=>{n.d(t,{Ny:()=>d,ZP:()=>h,eD:()=>m,lp:()=>p,nY:()=>g});var s=n(224796),i=n(807657),o=n(602377),a=n(731714),r=n(702497),l=n(217058),c=n(88682),u=n(623891);let d=Object.freeze({SOFT_BANNED:0,RATE_LIMITED:1,LOGIN_ASSISTANCE:2,PASSWORD_RESET_SENT:3,PREVENT_FACEBOOK_REGISTER:4,PREVENT_GOOGLE_REGISTER:5,SUSPENDED:6});class _{static defaultLoginRedirectUrl(){return window.location.pathname===r.lfe||window.location.pathname===r.ZEf||window.location.pathname.startsWith(r.rOJ)?"/":window.location.pathname+window.location.search}static defaultSocialLoginRedirectUrl(){return window.location.pathname.startsWith(r.rOJ)?"/":window.location.pathname}static isExceedRecaptchaLocalLimit(){let e=a.Z.getItem(s.kl);if(e&&e.indexOf("|")>-1){let t=e.split("|");return 3===t.length&&new Date().getTime()/1e3-parseInt(t[0],10)<=3600}return!1}static updateRecaptchaTimeStamp(){let e=a.Z.getItem(s.kl),t=[];e&&3===(t=e.split("|")).length&&t.shift();let n=(new Date().getTime()/1e3).toString();t.push(n);let i=t.join("|");a.Z.setItem(s.kl,i)}static isFullyLoggedIn(e,t){return e&&t===o.Z.DEFAULT}static handleRedirect(e){if(!e){e="/";let t=(0,u.Z)();if(t){let n=t.next;n&&(e=n,delete t.next),e=(0,c.Z)(e||"/",t)}}(0,i.Z)(e)}static handleRedirectWithFallbackWindowLocation(){this.handleRedirect(this.defaultLoginRedirectUrl())}static handleSignupRedirect(e,t){a.Z.setItem(s.F6,Date.now()),!t&&e&&"/"!==e?_.handleRedirect(e):_.handleRedirect("/")}static storeLoginCredentialsToBrowser(e){let t=window.navigator.credentials;if(t&&e.username_or_email)try{let n=new window.PasswordCredential({id:e.username_or_email,password:e.password});t.store(n).then(()=>{(0,l.My)("navigatorCredentials.store.success")})}catch(e){(0,l.My)("navigatorCredentials.store.error")}}static handleLoginMfa(e,t,n){(0,l.My)("multi_step_login"),_.storeLoginCredentialsToBrowser(e),n?n(e,t):(0,l.My)("unauth.login.error.CLIENT_ERROR.null_mfa_handler")}}let h=_;function p(e){return e.facebook_id?"facebook":e.google_open_id_token?"google_one_tap":e.line_id_token?"line":e.username_or_email?"email":"other"}function m(e){return e.mfa_token?"mfa_token":e.mfa_resend?"mfa_resend":p(e)}function g(e){return e.facebook_id?"facebook":e.google_open_id_token?"google":e.username_or_email?"email":"other"}},598753:(e,t,n)=>{n.d(t,{M3:()=>c,PE:()=>a,Q:()=>u,lv:()=>r,r8:()=>o,rl:()=>i,yW:()=>l});var s=n(191313);let i=()=>{try{let e=(0,s.qn)("MULTIPLE_ACCOUNTS");return e?JSON.parse(e):Object.freeze({})}catch{return Object.freeze({})}},o=e=>(0,s.Nh)("MULTIPLE_ACCOUNTS",JSON.stringify(e)),a=()=>!!(0,s.qn)("MULTIPLE_ACCOUNTS"),r=()=>Object.keys(i()).length,l=()=>{try{let e=(0,s.qn)("MULTIPLE_ACCOUNTS_GROUP");return e?JSON.parse(e):null}catch{return null}},c=e=>(0,s.Nh)("MULTIPLE_ACCOUNTS_GROUP",JSON.stringify(e)),u=()=>({multipleAccountMap:i(),multipleAccountGroupId:l()})},182962:(e,t,n)=>{n.d(t,{Z:()=>o});var s=n(667294),i=n(340523);let o=()=>{let e=(0,i.F)();return(0,s.useCallback)(()=>{e.flush()},[e])}},503325:(e,t,n)=>{n.d(t,{Z:()=>r});var s=n(172045),i=n(17314);function o(e,t,n){var s;return(t="symbol"==typeof(s=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var s=n.call(e,t||"default");if("object"!=typeof s)return s;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?s:String(s))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}let a="undefined"!=typeof window&&window.performance&&window.performance.now?()=>Math.floor(1e6*window.performance.now()):()=>1e6*Date.now(),r=class{constructor(e){o(this,"start",()=>(this.startTime=a(),this.startTime)),o(this,"end",()=>(this.endTime=a(),this.duration=this.startTime?this.endTime-this.startTime:null,this.duration));try{this.uuid=(0,s.Z)()}catch(e){this.uuid=(0,i.Z)()}e&&Object.assign(this,e)}}},28449:(e,t,n)=>{n.d(t,{$:()=>s,Z:()=>o});let{Provider:s,useMaybeHook:i}=(0,n(342513).Z)("TimeSpentManagerContext"),o=i},722363:(e,t,n)=>{n.d(t,{Z:()=>a});var s=n(667294),i=n(373314),o=n(217058);function a(){return(0,s.useCallback)(e=>{e.action&&e.event?(0,o.My)("pinner_conversion",{...e,type:e.type||"none",trigger:e.trigger||"other",referrer:(0,i.Z)()}):(0,o.My)("pinner_conversion.missing_tags")},[])}},623409:(e,t,n)=>{n.d(t,{Z:()=>l});var s=n(667294),i=n(616550),o=n(96157),a=n(217058);let r=e=>(0,o.L6)(e)?"pin":(0,o.am)(e)?"board":(0,o.Xn)(e)?"login":(0,o.C$)(e)?"home":(0,o.cD)(e)?"profile":(0,o.dr)(e)?"ideas":(0,o.gT)(e)?"ideas-root":(0,o.tZ)(e)?"videos":(0,o.Q0)(e)?"videos-category":(0,o.$Y)(e)?"article":(0,o.E0)(e)?"shopping-spotlight":(0,o.Zz)(e)?"today":(0,o.j8)(e)?"unauth-profile":(0,o.f1)(e)?"shopping-root":(0,o.OX)(e)?"shopping-category":"other";function l(){let e=(0,i.TH)();return(0,s.useCallback)(({action:t,item:n,within:s})=>{let i=r(e);(0,a.My)(`logged_out_product.interaction.${i}.${t}`,{item:n||"none",within:s||"none"})},[e])}},595731:(e,t,n)=>{n.d(t,{Z:()=>o});var s=n(883119),i=n(785893);function o({accessibilityLabel:e,color:t,count:n,icon:o,iconSize:a}){let r=n<100?`${n}`:"99+";return(0,i.jsxs)(s.xu,{position:"relative",children:[(0,i.jsx)(s.JO,{accessibilityLabel:e,color:t,icon:o,size:a}),n>0&&(0,i.jsx)(s.xu,{alignItems:"center",color:"primary",dangerouslySetInlineStyle:{__style:{right:-6-2*r.length,top:-8,padding:`0 ${3===r.length?"2px":"3px"} 0 2px`}},display:"flex",height:18,justifyContent:"center",minWidth:18,position:"absolute",rounding:"pill",children:(0,i.jsx)(s.xv,{align:"center",color:"inverse",size:"100",weight:"bold",children:(0,i.jsx)(s.xu,{dangerouslySetInlineStyle:{__style:{padding:"0 0 1px 1px"}},children:r})})})]})}},858128:(e,t,n)=>{n.d(t,{Z:()=>o});var s=n(883119),i=n(785893);let o=({height:e,width:t,text:n,isAbsolute:o})=>(0,i.jsx)(s.xu,{alignItems:"center",color:"primary",dangerouslySetInlineStyle:{__style:{padding:"0 3px 0 2px"}},display:"flex",height:e,justifyContent:"center",position:o?"absolute":void 0,rounding:"pill",width:t,children:(0,i.jsx)(s.xv,{align:"center",color:"inverse",size:"100",weight:"bold",children:(0,i.jsx)(s.xu,{dangerouslySetInlineStyle:{__style:{padding:"0 0 1px 1px"}},children:n||""})})})},487487:(e,t,n)=>{n.d(t,{Z:()=>o});var s=n(689390),i=n(139655);let o=e=>{let t=/^\/pin\/([a-zA-Z0-9-]+)/,n=(0,i.Z)(e);if(t.test(n.path)){let e=n.path.match(t);if(e)return(0,s.Z)(e[1]).pinId||void 0}}},201700:(e,t,n)=>{n.d(t,{Z:()=>o});var s=n(88682),i=n(598228);function o({isAdsSite:e,isAnalyticsSite:t,isTrendsSite:n,path:o,advertiserId:a}){let r=e||t||n?`${i.C0}`:"",l=`${r}${o}`;return a?(0,s.Z)(l,{advertiserId:a}):l}},477458:(e,t,n)=>{n.d(t,{Z:()=>a,q:()=>o});var s=n(667294);let i=()=>{let[e,t]=(0,s.useState)(!1),[n,i]=(0,s.useState)(!1),[o,a]=(0,s.useState)(!1);return{active:e,focused:n,hovered:o,onBlur:()=>{i(!1),t(!1)},onFocus:()=>i(!0),onMouseDown:()=>t(!0),onMouseEnter:()=>a(!0),onMouseLeave:()=>{a(!1),t(!1)},onMouseUp:()=>t(!1)}};function o({children:e}){return e(i())}let a=i},369708:(e,t,n)=>{n.d(t,{Wr:()=>u,rG:()=>c});var s=n(667294),i=n(214877),o=n(342513),a=n(340523),r=n(785893);let{Provider:l,useHook:c}=(0,o.Z)("VideoPlayer");function u({children:e}){let{logContextEvent:t,logImpression:n}=(0,i.v)(),{checkExperiment:o}=(0,a.F)(),[c,u]=(0,s.useState)(!1),[d,_]=(0,s.useState)([]),[h,p]=(0,s.useState)([]),[m,g]=(0,s.useState)({}),f=o("web_ads_mrc_video_impression").anyEnabled,b=e=>{g(t=>({...t,[e]:!0}))},v=(0,s.useCallback)(e=>{if(18===e.event_type&&e.event_data?.pinImpressions?.length){let{isNativeVideoAndWatchable:t}=e.event_data.pinImpressions[0],n=(e.aux_data?.commerce_data||"").includes("story_pin_id");f&&(t||n)&&_(t=>[...t,e].slice(-1e3))}},[f]),y=(0,s.useCallback)(e=>{18===e.eventType&&f&&p(t=>[...t,e].slice(-1e3))},[f]),w=e=>{let{renderDuration:t,time:n}=e.event_data.pinImpressions[0],s=Math.max(t,15e8);return{...e,event_data:{...e.event_data,pinImpressions:[{...e.event_data.pinImpressions[0],isMrcBtr:!0,endTime:n+s,renderDuration:s}]}}},x=e=>{if(e.eventData){let{time:t,endTime:n}=e.eventData,s=Math.max((n??0)-(t??0),15e8);return{...e,eventData:{...e.eventData,isMrcBtr:!0,endTime:(t??0)+s}}}return null};(0,s.useEffect)(()=>{let e=d.filter(e=>{let{pinIdStr:n}=e.event_data.pinImpressions[0];return!m[n]||!f||(t(w(e)),!1)});e.length!==d.length&&_(e)},[d,f,t,m]),(0,s.useEffect)(()=>{let e=h.filter(e=>{let t=e.eventData?.pinIdStr;if(!t)return!1;if(m[t]&&f){let t=x(e);return t&&n(t),!1}return!0});e.length!==h.length&&p(e)},[h,f,n,m]);let A=(0,s.useMemo)(()=>({captionsEnabled:c,logMrcVideoAdImpressionOnPlay:y,logMrcVideoAdEventOnPlay:v,setCaptionsEnabled:u,setVideoPlayed:b,videosPlayed:m}),[c,v,y,m]);return(0,r.jsx)(l,{value:A,children:e})}},222881:(e,t,n)=>{n.d(t,{Z:()=>o});var s=n(494125),i=n(239821);function o({children:e}){let{setAppFocusState:t}=(0,i.I)();return(0,s.Z)(()=>(t(!1),()=>{t(!0)})),e}},474708:(e,t,n)=>{n.d(t,{q:()=>_,y:()=>h});var s=n(667294),i=n(340523),o=n(5859),a=n(238299),r=n(372085);function l(e,t){(0,a.TT)(t)&&(0,r.Z)({method:"PUT",url:`/ads/v4/preferences/${e}/`,data:{level:"ADVERTISER",key:"CAMPAIGN_TOOL_PREFERENCE",preferences:t}})}var c=n(897295),u=n(785893);let d=(0,s.createContext)({campaignToolPreference:null,updateCampaignToolPreference:l}),_=({children:e})=>{let[t,n]=(0,s.useState)(null),r=(0,i.F)(),{advertiser:_}=(0,o.B)(),h=async(e,t)=>{l(e,t),n(t)};(0,s.useEffect)(()=>{(0,a.UM)(r,{skipActivation:!0})&&(async()=>{_&&n(await (0,c.f)(_.id))})()},[_,r]);let p=(0,s.useMemo)(()=>({campaignToolPreference:t,updateCampaignToolPreference:h}),[t]);return(0,u.jsx)(d.Provider,{value:p,children:e})},h=()=>(0,s.useContext)(d)},454535:(e,t,n)=>{n.d(t,{XI:()=>i,YZ:()=>a,rc:()=>o,sU:()=>c});var s=n(667294);function i(e){let[t,n]=(0,s.useState)(!1),i=()=>n(!0),o=()=>n(!1);return(0,s.useEffect)(()=>{let{current:t}=e;return t&&(t.addEventListener("mouseenter",i),t.addEventListener("mouseleave",o)),()=>{t&&(t.removeEventListener("mouseenter",i),t.removeEventListener("mouseleave",o))}}),t}let o=e=>{let t=(0,s.useRef)(e);return(0,s.useEffect)(()=>{t.current=e}),t.current};function a(){let e=(0,s.useRef)(!0);return(0,s.useEffect)(()=>{e.current=!1},[]),e.current}function r(e,t){return Object.is(e,t)}let l=Symbol("pre-initial value");function c(e,{equal:t=r,delta:n}={equal:r}){let i=(0,s.useRef)(l),o=i.current;return(0,s.useEffect)(()=>{i.current=e}),{previousValue:o,changed:o===l||!t(o,e),delta:n?.(o,e)}}},58120:(e,t,n)=>{n.d(t,{Z:()=>u});var s=n(240684),i=n(883119),o=n(65775),a=n(140017),r=n(674e3),l=n(785893);let c=(0,s.ZP)({resolved:{},chunkName:()=>"FullPageSignup",isReady(e){let t=this.resolve(e);return!0===this.resolved[t]&&!!n.m[t]},importAsync:()=>Promise.all([n.e(97270),n.e(16458)]).then(n.bind(n,106110)),requireAsync(e){let t=this.resolve(e);return this.resolved[t]=!1,this.importAsync(e).then(e=>(this.resolved[t]=!0,e))},requireSync(e){return n(this.resolve(e))},resolve:()=>106110});function u(e){let t=(0,a.ZP)();return(0,l.jsx)(r.Z,{onCloseClick:()=>{e.onClose&&e.onClose()},renderContent:()=>(0,l.jsx)(i.xu,{"data-test-id":"account-switcher-modal",display:"flex",flex:"grow",justifyContent:"center",children:(0,l.jsx)(c,{attributionLabel:e.attributionLabel,container:e.container,customLoginTagline:e.customTaglineText||t._('Add account', 'Short text on the button that allows a user to log in to another Pinterest account', 'Short text on the button that allows a user to log in to another Pinterest account'),fallback:(0,l.jsx)(o.Z,{}),hideAccountSwitchValueProp:e.hideAccountSwitchValueProp,isAccountSwitch:!0,signupFlow:{type:"login",email:e.email},signupSource:"login"})})})}},311694:(e,t,n)=>{n.d(t,{T:()=>c,g:()=>l});var s=n(667294),i=n(342513),o=n(58120),a=n(785893);let{Provider:r,useHook:l}=(0,i.Z)("AccountSwitcherLoginModal");function c({children:e}){let[t,n]=(0,s.useState)(!1),[i,l]=(0,s.useState)(""),[c,u]=(0,s.useState)(""),d=(0,s.useCallback)((e,t)=>{u(e),t&&l(t),n(!0)},[]),_=(0,s.useMemo)(()=>({showAccountSwitcherLoginModal:d}),[d]);return(0,a.jsxs)(s.Fragment,{children:[(0,a.jsx)(r,{value:_,children:e}),t&&(0,a.jsx)(o.Z,{container:c,email:i??"",onClose:()=>n(!1)})]})}},674e3:(e,t,n)=>{n.d(t,{Z:()=>h});var s=n(883119),i=n(140017),o=n(406893),a=n(623409),r=n(785893);let l=`
.AccountSwitcherModal {
  display: -webkit-box;
  display: -webkit-flex;
  display: -ms-flexbox;
  display: flex;
}
`,c={backgroundColor:"rgba(0, 0, 0, 0.6)",opacity:1,position:"fixed",top:"0px",bottom:"0px",left:"0px",right:"0px",zIndex:1e3},u={WebkitOverflowScrolling:"touch",overflowY:"scroll",bottom:"0px",left:"0px",right:"0px",top:"0px",position:"fixed",WebkitBoxOrient:"vertical",WebkitBoxDirection:"normal",WebkitFlexDirection:"column",msFlexDirection:"column",flexDirection:"column",WebkitJustifyContent:"space-around",msFlexPack:"distribute",justifyContent:"space-around"},d={display:"flex",minHeight:"0px",position:"relative",opacity:1,borderRadius:"6px",margin:"0 auto"},_={overflow:"hidden",position:"fixed",right:"24px",top:"24px"};function h(e){let t=(0,i.ZP)(),n=(0,a.Z)(),{renderContent:h}=e;return(0,r.jsxs)(s.xu,{dangerouslySetInlineStyle:{__style:c},children:[(0,r.jsx)(o.Z,{unsafeCSS:l}),(0,r.jsx)("div",{className:"AccountSwitcherModal",onClick:()=>{n({action:"click",item:"wash-button",within:"account-switcher-modal"});let{onCloseClick:t}=e;t()},role:"dialog",style:u,children:(0,r.jsxs)("div",{onClick:e=>{e.stopPropagation()},role:"dialog",style:d,children:[h(),(0,r.jsx)(s.xu,{dangerouslySetInlineStyle:{__style:_},children:(0,r.jsx)(s.hU,{accessibilityLabel:t._('close', 'accessible label for close button', 'accessible label for close button'),bgColor:"transparent",icon:"cancel",iconColor:"white",onClick:()=>{n({action:"dismiss",item:"close-button",within:"account-switcher-modal"});let{onCloseClick:t}=e;t()}})})]})})]})}},794109:(e,t,n)=>{n.d(t,{N:()=>h,t:()=>g});var s=n(667294),i=n(616550),o=n(216167),a=n(807657),r=n(137831),l=n(114267),c=n(342513),u=n(340523),d=n(785893);let{Provider:_,useHook:h}=(0,c.Z)("LinkedAccount"),p=e=>{(0,a.Z)(e?`/?next=${encodeURIComponent(e)}`:"/")},m=(e,t)=>{r.Z.reportFacebookConversion(l.Z.FACEBOOK_ADVERTISER_ID,"CompleteRegistration",{content_name:"/business/convert"}),r.Z.reportPinterestConversion("track","lead",{lead_type:"Self-serve"}),r.Z.reportLinkedInConversion(l.Z.LINKEDIN_PARTNER_ID,l.Z.LINKEDIN_CONVERSION_ID_SUBMISSION_EVENT),r.Z.reportGoogleConversion(l.Z.GOOGLE_ADWORDS_ID,l.Z.GOOGLE_ADWORDS_LABEL_BUSINESS_CONVERT,"/",e),t.push("/")};function g({children:e}){let[t,n]=(0,s.useState)(!1),[a,r]=(0,s.useState)([]),{checkExperiment:l}=(0,u.F)(),c=(0,i.k6)(),h=l("ppm_p_gate").anyEnabled,g=(0,s.useCallback)(({businessName:e,thirdPartyApps:t,thirdPartyMarketingTrackingEnabled:s,nextUrl:i})=>(n(!0),o.Z.create("BusinessOwnershipResource",{business_name:e,third_party_apps:t}).callCreate({showError:!0}).then(()=>{s&&m(h,c),n(!1),p(i)}).catch(e=>(n(!1),Promise.reject({error:e})))),[n,h,c]),f=(0,s.useMemo)(()=>({createLinkedBusinessAccount:g,linkedBusinessCreationLoading:t,userAccounts:a,userAccountsRetrieved:r}),[g,t,r,a]);return(0,d.jsx)(_,{value:f,children:e})}},239821:(e,t,n)=>{n.d(t,{g:()=>_,I:()=>d});var s=n(667294),i=n(342513),o=n(705895),a=n(259866);let r={appInFocus:!0,footerPlusButtonVisible:!0,isAutoplay:!1,showTypeaheadOverlay:!1,videosAutoplaying:{currentlyPlayingOrganicVideoId:null,organicVideosAutoplaying:{},promotedVideosAutoplaying:{}},viewportSize:"lg"},l=(e=r,t)=>{if("TOGGLE_TYPEAHEAD_OVERLAY"===t.type&&e.showTypeaheadOverlay!==t.payload)return{...e,showTypeaheadOverlay:t.payload};if("SET_CURRENT_VIDEO"===t.type){let{payload:n}=t,{pinId:s,isPromoted:i,currentTime:o}=n,{videosAutoplaying:r}=e,{currentlyPlayingOrganicVideoId:l,promotedVideosAutoplaying:c,organicVideosAutoplaying:u}=r,d=(0,a.Z)(c),_=(0,a.Z)(u);return!i&&l?e:(i?d[s]={pinId:s,currentTime:o,paused:!1}:_[s]={pinId:s,currentTime:o,paused:!1},{...e,videosAutoplaying:{currentlyPlayingOrganicVideoId:i?l:s,promotedVideosAutoplaying:d,organicVideosAutoplaying:_}})}if("SET_IS_AUTOPLAY"===t.type&&e.isAutoplay!==t.payload)return{...e,isAutoplay:t.payload};if("PAUSE_CURRENT_VIDEO"===t.type){let{payload:n}=t,{pinId:s,isPromoted:i,currentTime:o}=n,{videosAutoplaying:r}=e,{promotedVideosAutoplaying:l,organicVideosAutoplaying:c}=r,u=(0,a.Z)(l),d=(0,a.Z)(c);return i?u[s]={...u[s],paused:!0,currentTime:o}:d[s]={...d[s],paused:!0,currentTime:o},{...e,videosAutoplaying:{currentlyPlayingOrganicVideoId:null,promotedVideosAutoplaying:u,organicVideosAutoplaying:d}}}if("SET_APP_FOCUS_STATE"===t.type&&e.appInFocus!==t.payload)return{...e,appInFocus:t.payload};if("SET_VIEWPORT_SIZE"===t.type&&e.viewportSize!==t.payload)return{...e,viewportSize:t.payload};if("SET_FOOTER_VISIBILITY_STATE"===t.type&&e.footerPlusButtonVisible!==t.payload)return{...e,footerPlusButtonVisible:t.payload};return e};var c=n(785893);let{Provider:u,useHook:d}=(0,i.Z)("AppUI");function _({children:e}){let[t,n]=(0,s.useReducer)(l,r),i=(0,s.useCallback)(e=>n({type:"PAUSE_CURRENT_VIDEO",payload:e}),[]),a=(0,s.useCallback)(e=>n({type:"SET_APP_FOCUS_STATE",payload:e}),[]),d=(0,s.useCallback)(e=>n({type:"SET_CURRENT_VIDEO",payload:e}),[]),_=(0,s.useCallback)(e=>n({type:"SET_FOOTER_VISIBILITY_STATE",payload:e}),[]),h=(0,s.useCallback)(e=>n({type:"SET_IS_AUTOPLAY",payload:e}),[]),p=(0,s.useCallback)(e=>n({type:"SET_VIEWPORT_SIZE",payload:e}),[]),m=(0,s.useCallback)(e=>n({type:"TOGGLE_TYPEAHEAD_OVERLAY",payload:e}),[]),g=(0,s.useMemo)(()=>({pauseAutoplay:i,setCurrentVideo:d,setFooterPlusButtonVisible:_,setIsAutoplay:h,setViewportSize:p,toggleTypeaheadOverlay:m,setAppFocusState:a,appUI:t}),[i,d,_,h,p,m,a,t]);return(0,s.useEffect)(()=>{o.Z.onSessionResume(()=>{a(!0)}).onSessionPause(()=>{a(!1)})},[a]),(0,c.jsx)(u,{value:g,children:e})}},286318:(e,t,n)=>{n.d(t,{Z:()=>s});let s=(0,n(667294).createContext)(()=>null)},226136:(e,t,n)=>{n.d(t,{Z:()=>i});var s=n(190149);function i(){let{conversations:{data:e}}=(0,s.Z)();return Array.from(Object.keys(e).map(t=>e[t]).filter(e=>e.users&&e.last_message)).sort((e,t)=>new Date((t.last_message||t).created_at).getTime()-new Date((e.last_message||e).created_at).getTime())}},136359:(e,t,n)=>{n.d(t,{c:()=>i,t:()=>o});var s=n(514810);function i({children:e}){let{height:t}=(0,s.Z)();return e(t)}function o(){let{height:e}=(0,s.Z)();return e}},514810:(e,t,n)=>{n.d(t,{C:()=>s,Z:()=>o});let{Provider:s,useHook:i}=(0,n(342513).Z)("Header"),o=i},677801:(e,t,n)=>{n.d(t,{Z:()=>v});var s=n(667294),i=n(883119),o=n(205841),a=n(140017),r=n(763223),l=n(340370),c=n(340523),u=n(5859),d=n(201700),_=n(477458),h=n(149722),p=n(514810),m=n(983983),g=n(563366),f=n(785893);function b({children:e,show:t,text:n,idealDirection:s,zIndex:o}){return t?(0,f.jsx)(i.u,{accessibilityLabel:"",idealDirection:s,text:n,zIndex:o||new i.H3([new i.Ry(m.fe)]),children:e}):e}function v({isAdsSite:e=!1,isAnalyticsSite:t=!1,isTrendsSite:n=!1,isSelected:m,noNavigation:v=!1,idealTooltipDirection:y,tooltipZIndex:w}){let x=(0,h.Z)(),{checkExperiment:A}=(0,c.F)(),E=(0,u.B)(),S=(0,a.ZP)(),{active:P,hovered:I,onBlur:C,onFocus:O,onMouseDown:T,onMouseUp:L,onMouseEnter:j,onMouseLeave:k}=(0,_.Z)(),{fullName:R,username:Z,imageMediumUrl:N,isPartner:D}=x.isAuth?x:{fullName:"",username:"",imageMediumUrl:"",isPartner:void 0},{isInBiznuxFullscreen:M}=(0,p.Z)(),z=(0,s.useRef)(null),B=(0,d.Z)({isAdsSite:e,isAnalyticsSite:t,isTrendsSite:n,path:`/${Z}/`,requestContext:E}),U=(0,d.Z)({isAdsSite:e,isAnalyticsSite:t,isTrendsSite:n,path:`/${Z}/${g.Z}/`,requestContext:E}),F=(0,l.Z)({href:B,onHistoryChange:r.Jd}),H=(0,l.Z)({href:U,onHistoryChange:r.Jd});return M||v?(0,f.jsx)(i.xu,{"data-test-id":"header-profile",height:48,rounding:"circle",width:48,children:(0,f.jsx)(i.xu,{alignItems:"center",display:"flex",height:"100%",justifyContent:"center",rounding:"circle",width:"100%",children:(0,f.jsx)(i.xu,{alignItems:"center",display:"flex",height:30,justifyContent:"center",rounding:"circle",width:30,children:(0,f.jsx)(o.qE,{name:R,size:"xs",src:N})})})}):(0,f.jsx)(i.xu,{"data-test-id":"header-profile",children:(0,f.jsx)(b,{idealDirection:y,show:![e,t,n].some(Boolean),text:S._('Your profile', 'navbar.avatarButton.tooltip', 'Tooltip text for button leading to user\'s profile'),zIndex:w,children:(0,f.jsx)(i.Tg,{href:B,onTap:({event:e,dangerouslyDisableOnNavigation:t})=>{t(),x.isAuth&&!D&&A("web_retrieval_hub_profile_split_").anyEnabled?H({event:e}):F({event:e})},rounding:"circle",children:(0,f.jsx)(i.xu,{ref:z,color:I?"secondary":void 0,height:48,onBlur:C,onFocus:O,onMouseDown:T,onMouseEnter:j,onMouseLeave:k,onMouseUp:L,rounding:"circle",width:48,children:(0,f.jsx)(i.xu,{alignItems:"center",display:"flex",height:"100%",justifyContent:"center",rounding:"circle",width:"100%",children:(0,f.jsx)(i.xu,{alignItems:"center",dangerouslySetInlineStyle:{__style:{...P||m?{border:"2px solid #111111"}:{}}},display:"flex",height:30,justifyContent:"center",rounding:"circle",width:30,children:(0,f.jsx)(o.qE,{name:R,size:"xs",src:N})})})})})})})}},418739:(e,t,n)=>{n.d(t,{Z:()=>c});var s=n(667294),i=n(883119),o=n(214877),a=n(249150),r=n(785893);let l=({anchorElementRef:e,children:t,experienceAnchor:n})=>n?(0,r.jsx)(a.Z,{anchor:".HomeButton2",anchorElementRef:e.current,containerBoxConfig:{display:"flex",height:"100%"},children:t}):t,c=({accessibilityLabel:e,compactMode:t,icon:n,rightIcon:a,selected:c,text:u,type:d="link",url:_,contextData:h,onClick:p})=>{let{logContextEvent:m}=(0,o.v)(),[g,f]=(0,s.useState)("transparent"),b=(0,s.useRef)(null),v=()=>{f("secondary")},y=()=>{f("transparent")},w=()=>{f("transparent")},x=()=>{f("secondary")},A=e=>{if(h){let{event:e,component:t,element:n}=h;m({event_type:e,component:t,element:n})}p&&p(e)},E=(0,r.jsx)(i.iP,{accessibilityLabel:e,onBlur:w,onFocus:x,onMouseEnter:v,onMouseLeave:y,onTap:({event:e})=>A(e),rounding:"circle",children:(0,r.jsx)(i.xu,{alignItems:"center",color:g,display:"flex",height:48,justifyContent:"center",rounding:"circle",width:48,children:n})});if(a||"link"!==d||!_||t){if("link"===d&&(t&&n||a)){let s,o,l="pill";l=n||a?u&&!t?"pill":"circle":"pill",n&&(s=n),a&&(o=a);let d=u instanceof Object?u:(0,r.jsx)(i.xv,{color:c?"default":"subtle",overflow:"normal",size:"200",weight:"bold",children:u});E=(0,r.jsx)(i.Tg,{accessibilityLabel:e,href:_||"",onBlur:w,onFocus:x,onMouseEnter:v,onMouseLeave:y,onTap:({event:e})=>A(e),rounding:l,children:(0,r.jsxs)(i.kC,{alignItems:"center",justifyContent:"start",children:[s,!!u&&!t&&(0,r.jsx)(i.xu,{paddingX:2,children:d}),o]})})}}else E=(0,r.jsx)(l,{anchorElementRef:b,experienceAnchor:"/"===_?".HomeButton2":"",children:(0,r.jsx)(i.Tg,{ref:b,accessibilityLabel:e,href:_,onBlur:w,onFocus:x,onMouseEnter:v,onMouseLeave:y,onTap:({event:e})=>A(e),rounding:"pill",children:(0,r.jsx)(i.xu,{color:g,paddingX:4,paddingY:4,rounding:"pill",children:(0,r.jsx)(i.xv,{color:c?"default":"subtle",overflow:"normal",weight:"bold",children:u})})})});return(0,r.jsx)(i.xu,{position:"relative",children:E})}},249222:(e,t,n)=>{n.d(t,{Z:()=>f});var s=n(667294),i=n(883119),o=n(406893),a=n(514810),r=n(19447),l=n(785893);function c(e,t,n){var s;return(t="symbol"==typeof(s=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var s=n.call(e,t||"default");if("object"!=typeof s)return s;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?s:String(s))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}let u="SavePin",d={__style:{left:"50%",marginLeft:-125}},_={__style:{animationName:`${u}_AnimateIn, ${u}_CircleAnimateOut`,animationDuration:"0.3s, 0.25s",animationDelay:"0.5s, 1.3s",animationFillMode:"forwards",animatitionTimingFunction:"ease-out",backgroundColor:"rgba(255, 255, 255, 0.6)"}},h={__style:{animationName:`${u}_AnimateIn, ${u}_AnimateOut`,animationDuration:"0.3s, 0.35s",animationDelay:"0.5s, 1.55s",animationFillMode:"forwards",animatitionTimingFunction:"ease-out",border:"4px solid white"}},p={__style:{animationName:`${u}_NavButtonAnimation`,animationDuration:"0.8s",animationDelay:"1.65s",animationFillMode:"forwards",animatitionTimingFunction:"ease-out"}},m=()=>`
@keyframes ${u}_AnimateIn {
  from {
    transform: scale(0.0);
    opacity: 0;
  }
  to {
    opacity: 1;
    transform: scale(1.0);
  }
}
@keyframes ${u}_CircleAnimateOut {
  from {
    transform: scale(1.0);
    opacity: 1;
  }
  to {
    transform: scale(0.8);
    opacity: 0;
  }
}
@keyframes ${u}_AnimateOut {
  from {
    transform: translateY(0) scale(1.0);
    opacity: 1;
  }
  to {
    transform: translateY(-100px) scale(0.0);
    opacity: 0;
  }
}
@keyframes ${u}_NavButtonAnimation {
  0% {
    transform: scale(1.0);
  }
  50% {
    transform: scale(1.2);
  }
  100% {
    transform: scale(1.0);
  }
}
`;class g extends s.Component{constructor(...e){super(...e),c(this,"state",{imageLoaded:!1}),c(this,"handleAnimationCompletion",()=>{let{animationEnded:e}=this.props;this.setState({imageLoaded:!1},()=>{e()})}),c(this,"handleImageLoad",()=>{this.setState({imageLoaded:!0})}),c(this,"loadImage",()=>{let e=new Image;e.onload=this.handleImageLoad,e.src=this.imageSrc()}),c(this,"imageSrc",()=>{let{images:e={}}=this.props.lastRepin||{};return e["236x"]?.url??""}),c(this,"shouldRenderAnimation",()=>{let{lastRepin:e,startAnimation:t}=this.props,{imageLoaded:n}=this.state;return!!(e&&n&&t)})}componentDidUpdate(e,t){let{lastRepin:n={}}=e,{imageLoaded:s}=t,{lastRepin:i,startAnimation:o}=this.props,{imageLoaded:a}=this.state;i&&i.id!==n?.id&&this.loadImage(),o&&a&&a!==s&&(this.dismissTimeout=setTimeout(this.handleAnimationCompletion,2500))}componentWillUnmount(){this.dismissTimeout&&clearTimeout(this.dismissTimeout)}render(){let{children:e}=this.props;return this.shouldRenderAnimation()?(0,l.jsxs)(i.kC,{alignItems:"stretch",flex:"grow",justifyContent:"center",children:[(0,l.jsx)(o.Z,{unsafeCSS:m()}),(0,l.jsxs)(i.xu,{position:"relative",children:[(0,l.jsxs)(i.xu,{dangerouslySetInlineStyle:d,height:250,position:"absolute",top:!0,width:250,children:[(0,l.jsx)(i.xu,{alignItems:"center",dangerouslySetInlineStyle:_,display:"flex",height:"100%",justifyContent:"center",opacity:0,rounding:"circle",width:"100%"}),(0,l.jsx)(i.xu,{bottom:!0,dangerouslySetInlineStyle:h,height:100,left:!0,margin:"auto",opacity:0,position:"absolute",right:!0,rounding:3,top:!0,width:100,children:(0,l.jsx)(i.zd,{height:"100%",rounding:2,wash:!0,width:"100%",children:(0,l.jsx)(i.Ee,{alt:"pin-image",fit:"cover",naturalHeight:1,naturalWidth:1,src:this.imageSrc()})})})]}),(0,l.jsx)(i.xu,{dangerouslySetInlineStyle:p,children:e})]})]}):e}}function f(e){let{repinPinId:t,repinStartAnimation:n,updateHeaderState:s}=(0,a.Z)(),i=(0,r.S6)(),o=t?i(t):null;return(0,l.jsx)(g,{...e,animationEnded:()=>s({type:"hideRepinAnimation"}),lastRepin:o,startAnimation:n})}},509474:(e,t,n)=>{n.d(t,{F:()=>s,j:()=>i});let{Provider:s,useHook:i}=(0,n(342513).Z)("SiteParametersContextType")},162383:(e,t,n)=>{n.d(t,{Jo:()=>u,mv:()=>_,nJ:()=>d});var s=n(667294),i=n(342513);let o={hiddenNews:{}};function a(e=o,t){if("HIDDEN_NEWS_ADD_ID_TO_HIDDEN_STATUS"===t.type){let{payload:{id:n,isHidden:s}}=t;return{hiddenNews:{...e.hiddenNews,[n]:s}}}return e}var r=n(785893);let{Provider:l,useHook:c}=(0,i.Z)("HiddenNews");function u({children:e}){let[t,n]=(0,s.useReducer)(a,o),i=(0,s.useMemo)(()=>({dispatch:n,hiddenNews:t}),[n,t]);return(0,r.jsx)(l,{value:i,children:e})}function d(){let{dispatch:e,hiddenNews:{hiddenNews:t}}=c();return(0,s.useMemo)(()=>({updateNewsIdToHiddenNews:(t,n)=>{e({type:"HIDDEN_NEWS_ADD_ID_TO_HIDDEN_STATUS",payload:{id:t,isHidden:n}})},getShownNewsCount:e=>e.filter(e=>!(e.id in t&&t[e.id])).length}),[e,t])}function _(){let{hiddenNews:e}=c();return e}},483169:(e,t,n)=>{n.d(t,{_:()=>u,j:()=>d});var s=n(667294),i=n(700280),o=n(342513),a=n(288673),r=n(149722),l=n(785893);let{Provider:c,useHook:u}=(0,o.Z)("SosInfo");function d({children:e}){let[t,n]=(0,s.useState)("0"),{is_sterling_on_steroids:o}=(0,i.u)(),u=(0,r.Z)(),d=u?.id;(0,s.useEffect)(()=>{!async function(){if(o){let e=await (0,a.gE)({entity_id:d});e&&e.sos_user_type&&n(e.sos_user_type)}}()},[d,o]);let _=(0,s.useMemo)(()=>({adminPermissionType:t}),[t]);return(0,l.jsx)(c,{value:_,children:e})}},734513:(e,t,n)=>{n.d(t,{Z:()=>a,b:()=>r});var s=n(667294);let i=(0,s.createContext)({inboxButton:null,setInboxButton:()=>{},profileInboxButton:null,groupBoardMessageButton:null,setProfileInboxButton:()=>{},isUnblockToast:!1,setIsUnblockToast:()=>{},setGroupBoardMessageButton:()=>{}});var o=n(785893);function a({children:e}){let[t,n]=(0,s.useState)(null),[a,r]=(0,s.useState)(null),[l,c]=(0,s.useState)(!1),[u,d]=(0,s.useState)(null),_=(0,s.useMemo)(()=>({inboxButton:t,setInboxButton:n,profileInboxButton:a,groupBoardMessageButton:u,setProfileInboxButton:r,isUnblockToast:l,setIsUnblockToast:c,setGroupBoardMessageButton:d}),[t,a,l,u]);return(0,o.jsx)(i.Provider,{value:_,children:e})}function r(){let e=(0,s.useContext)(i);if(void 0===e)throw Error("useInboxButtonContext must be used within a InboxButtonContext Provider.");return e}},474373:(e,t,n)=>{n.d(t,{Z:()=>x});var s=n(667294),i=n(616550),o=n(883119),a=n(510989),r=n(140017),l=n(96157),c=n(608516),u=n(624797),d=n(190149),_=n(432614),h=n(228150),p=n(940404),m=n(983983),g=n(162383),f=n(785893);let b=()=>n.e(96218).then(n.bind(n,696218)),v=(0,s.lazy)(b);function y({idealTooltipDirection:e,defaultIconColor:t,selectedIconColor:n,onClearBadges:y,zIndex:w}){let x=(0,r.ZP)(),A=(0,i.TH)(),E=(0,s.useRef)(null),[S,P]=(0,s.useState)(!1),[I,C]=(0,s.useState)(!1),[O,T]=(0,s.useState)(!1),[L,j]=(0,s.useState)(!1),{tab:k,utm_source:R,news_hub_id:Z}=(0,u.mB)(A.search),{conversations:{conversationsUnseenCount:N,newsHubCount:D}}=(0,d.Z)(),M=e=>{if((0,l.L6)(A))return;let t=Math.max(e,0),n=x._('Pinterest', ' - ', ' -- ');window.document.title=t?`(${t}) ${n}`:n};(0,s.useEffect)(()=>{M(N+D),A.pathname.startsWith("/notifications")&&"inbox"!==k&&P(!0)},[N,D]);let z=(0,p.ti)(R||null),B=()=>{P(!S),y(_.S.NEWS_HUB),M(0)};return(0,s.useEffect)(()=>{let e=setTimeout(()=>{C(S),T(S)},100);return()=>clearTimeout(e)},[S]),(0,f.jsxs)(s.Fragment,{children:[z?(0,f.jsx)(o.xu,{children:(0,f.jsx)(o.xu,{ref:E,"data-test-id":"bell-icon",onMouseEnter:b,position:"relative",children:(0,f.jsx)(h.Z,{badgeCount:D,icon:"bell",onClick:B,selected:S})})}):(0,f.jsx)(o.xu,{ref:E,"data-test-id":"bell-icon",onMouseEnter:b,position:"relative",children:(0,f.jsx)(o.u,{accessibilityLabel:"",idealDirection:e,text:x._('Notifications', 'navbar.newsButton.tooltip', 'Tooltip text for icon button to show recent notifications'),zIndex:w||new o.H3([new o.Ry(m.fe)]),children:(0,f.jsx)(h.Z,{badgeCount:D,defaultColor:t,icon:"bell",onClick:B,selected:S,selectedColor:n})})}),(0,f.jsx)(g.Jo,{children:(0,f.jsx)("div",{className:"newsHubSidebarWrapper",style:S?{opacity:1,visibility:"visible",transition:"opacity 100ms linear"}:{opacity:0,visibility:"hidden",transition:"visibility 0s 100ms, opacity 100ms linear"},children:I&&(0,f.jsx)(a.Z,{name:"SafeSuspense_AuthNewsButton_NewsHubSidebar",children:(0,f.jsx)(c.Z,{children:(0,f.jsx)(v,{handleDismissPanel:()=>{P(!1),j(!1)},highlightScrollSidebar:L,newsButton:E.current,show:O,utmNewsHubId:Z||null})})})})})]})}var w=n(647352);function x({idealTooltipDirection:e,defaultIconColor:t,selectedIconColor:n,zIndex:s}){return(0,f.jsx)(w.Z,{icon:"bell",children:({onClearBadges:i})=>(0,f.jsx)(y,{defaultIconColor:t,idealTooltipDirection:e,onClearBadges:i,selectedIconColor:n,zIndex:s})})}},228150:(e,t,n)=>{n.d(t,{Z:()=>r});var s=n(140017),i=n(595731),o=n(418739),a=n(785893);function r({badgeCount:e=0,icon:t="speech-ellipsis",onClick:n,selected:r=!1,defaultColor:l="subtle",selectedColor:c="default"}){let u=(0,s.ZP)(),d={bell:u._('Notifications', ' - ', ' -- '),"speech-ellipsis":u._('Messages', ' - ', ' -- ')};return(0,a.jsx)(o.Z,{accessibilityLabel:d[t],contextData:{event:101,component:8,element:1187},icon:(0,a.jsx)(i.Z,{accessibilityLabel:"",color:r?c:l,count:e,icon:t,iconSize:24}),onClick:n,text:d[t],type:"button"},"NotificationsButton")}},940404:(e,t,n)=>{n.d(t,{AI:()=>z,AM:()=>w,AY:()=>J,C:()=>et,Cc:()=>l,DX:()=>L,GO:()=>D,HJ:()=>a,Hj:()=>h,I2:()=>F,IV:()=>i,J0:()=>f,LL:()=>ee,OBJECT_TYPE:()=>s,P:()=>S,P3:()=>g,QE:()=>ei,QX:()=>en,Rd:()=>E,So:()=>v,V$:()=>d,Vp:()=>W,WC:()=>C,ZH:()=>R,aE:()=>m,c4:()=>P,cU:()=>I,ci:()=>O,di:()=>U,f_:()=>_,gb:()=>Q,gs:()=>N,hD:()=>V,hf:()=>B,hp:()=>M,hy:()=>o,ie:()=>b,kJ:()=>K,kc:()=>A,mD:()=>$,mM:()=>T,os:()=>c,pv:()=>u,qZ:()=>x,qb:()=>y,ti:()=>X,uW:()=>Z,uZ:()=>r,uy:()=>G,vG:()=>q,wA:()=>p,wl:()=>H,yS:()=>es,yc:()=>k,ys:()=>Y,zM:()=>j});let s={BOARD:"board",DID_IT:"userdiditdata",INTEREST:"interest",PIN:"pin",SEARCH:"news_hub_search",STORY:"story",USER:"user"},i=3,o=360,a=375,r=64,l=36,c=36,u=44,d=344,_=328,h=8,p=164,m=328,g=164,f=108.7,b=3,v=82,y=82,w=164,x=164,A=4,E=164,S=164,P=2,I=82,C=164,O=2,T=2,L=4,j=328,k="290x",R="170x",Z={backgroundColor:"rgba(0, 0, 0, 0.4)"},N=4,D="1px",M=48,z=32,B=36,U="136x136",F=2,H=24,V=20,$=72,W=48,G=54,q=54,Y=4,K=118,J=236,Q={BASIC:0,TEXT:1,ROW_WITH_COUNT:2,MINI_PIN_GRID:4,ROW_WITH_COUNT_2:10,MINI_PIN_GRID_2:11,MINI_BOARD_GRID:12,MINI_USER_GRID:13,MINI_SEARCH_GRID:14,MINI_INTEREST_GRID:15,MINI_BOARD_GRID_WITH_ICON:18},X=e=>"31"==`${String(e)}`,ee="recommendation",et="dropdown_item_settings_id",en=10,es=20,ei=5e3},432614:(e,t,n)=>{n.d(t,{S:()=>s});let s={NEWS_HUB:1,INBOX:2}},791486:(e,t,n)=>{n.d(t,{Z:()=>s});let s=function(e){return{...e,ts:Date.now()}}},264985:(e,t,n)=>{n.d(t,{Lp:()=>c,SL:()=>r,nR:()=>l});var s=n(191313),i=n(407053),o=n(791486),a=n(249170);let r=()=>{let e=(0,s.qn)(i.dx,"");return(0,a.Z)(e,[])},l=()=>{let e=(0,s.qn)(i.Lg,"");return(0,a.Z)(e,null)},c=e=>{if(!e)return;let t=[...r()],n=(0,o.Z)({inviteCode:e});(0,s.Nh)(i.Lg,JSON.stringify(n)),t.length>=i.eA||(0,s.Nh)(i.dx,JSON.stringify([n].concat(t)))}},543975:(e,t,n)=>{n.d(t,{S:()=>l,d:()=>r});var s=n(191313),i=n(407053),o=n(791486),a=n(249170);let r=()=>{let e=(0,s.qn)(i.eV,"");return(0,a.Z)(e,null)},l=(e,t)=>{if(!e)return;let n=(0,o.Z)({...!!t&&{adImageUrl:t},campaignId:e});(0,s.Nh)(i.eV,JSON.stringify(n))}},926234:(e,t,n)=>{n.d(t,{C:()=>a,O:()=>o});var s=n(191313),i=n(407053);let o=()=>(0,s.qn)(i.fo,""),a=e=>{(0,s.Nh)(i.fo,e)}},166770:(e,t,n)=>{n.d(t,{H:()=>i,o:()=>s});let{Provider:s,useHook:i}=(0,n(342513).Z)("LimitedLogin")},901551:(e,t,n)=>{n.d(t,{Z:()=>j});var s=n(667294),i=n(616550),o=n(883119),a=n(216167),r=n(515278),l=n(140017),c=n(96157),u=n(340523),d=n(731714),_=n(494125),h=n(149722),p=n(190149),m=n(226136),g=n(432614),f=n(734513),b=n(228150),v=n(983983),y=n(214877),w=n(205841),x=n(406893),A=n(5859),E=n(140186),S=n(785893);let P=(e,t,n)=>{let s=70,i=38,o=document.body?document.body.clientWidth:window.innerWidth-15;if(n){let{left:t,right:a,width:r}=n.getBoundingClientRect();e?(s=t-20,i=r/2+20-4):(s=o-a-20,i=20+r/2-4)}return`
  @keyframes fadeOut {
    0% { opacity: 1; }
    100% { opacity: 0; }
  }
  #message-notif-toast{
    position: absolute;
    top: 65px;
    ${e?"left":"right"}: ${s}px;
    animation: ${t?"fadeOut":"none"} 1000ms;
  }
  #message-notif-toast:after {
    content: '';
    position: absolute;
    top: -4px;
    ${e?"left":"right"}: ${i}px;
    width: 8px;
    height: 8px;
    background-color: rgb(17,17,17);
    clip-path: polygon(0% 0%, 100% 100%, 0% 100%);
    transform: rotate(135deg);
    border-radius: 0 0 0 3px;
  }
  `};function I({conversation:e,anchor:t}){let[n,i]=(0,s.useState)(!1),[a,r]=(0,s.useState)(!1),{dropdownOpen:c,conversationOpen:u}=(0,p.Z)(),h=(0,l.ZP)(),{isRTL:m}=(0,A.B)(),{logContextEvent:g}=(0,y.v)();if((0,_.Z)(()=>{let t=e.last_message,n=d.Z.getItem("last_notified_message_id");t&&t.id!==n&&setTimeout(()=>{i(!0),g({event_type:13,component:14993}),d.Z.setItem("last_notified_message_id",t.id),d.Z.setItem("last_notified_message_timestamp",Date.now()),window.addEventListener("click",e=>{document.getElementById("message-notif-toast")?.contains(e.target)||i(!1)}),setTimeout(()=>{r(!0),setTimeout(()=>{r(!1),i(!1)},800)},5e3)},E.XZ)}),!e.last_message||!n)return null;let{sender:f}=e.last_message,b=f.first_name||f.username||"",I=e.last_message.pin?h._('sent you a Pin', 'navbar.messageNotifications.text', 'Message notification text'):h._('sent you a message', 'navbar.messageNotifications.text', 'Message notification text'),C=(0,S.jsxs)(o.xv,{color:"light",inline:!0,children:[(0,S.jsxs)(o.xv,{color:"light",inline:!0,weight:"bold",children:[b," "]}),I]});return(0,S.jsx)(o.mh,{zIndex:new o.H3([new o.Ry(v.fe)]),children:(0,S.jsx)(o.iP,{onTap:()=>{c(),u(e.id),i(!1),g({event_type:101,component:14993})},children:(0,S.jsxs)(o.xu,{id:"message-notif-toast",children:[(0,S.jsx)(x.Z,{unsafeCSS:P(m,a,t)}),(0,S.jsxs)(o.xu,{alignItems:"center",color:"dark",display:"flex",flex:"none",justifyContent:"start",paddingX:4,paddingY:2,role:"alert",rounding:4,children:[(0,S.jsx)(o.xu,{marginEnd:3,children:(0,S.jsx)(w.qE,{name:b,size:"sm",src:f.image_large_url})}),C]})]})})})}function C(e,t,n){var s;return(t="symbol"==typeof(s=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var s=n.call(e,t||"default");if("object"!=typeof s)return s;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?s:String(s))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class O extends s.Component{constructor(...e){super(...e),C(this,"setButtonRef",e=>{let{setInboxButton:t}=this.props;this.anchor||(this.anchor=e,t(e))}),C(this,"clearBadges",()=>{let{onClearBadges:e}=this.props;e(g.S.INBOX),this.updateBrowserTabTitleCount(0)}),C(this,"handleButtonClick",e=>{let{requireAuth:t,showPanel:n,closeConversationsDropdown:s,openConversationsDropdown:i}=this.props;if(t){e&&e.stopEventPropagation(),t();return}n?s():i(),this.clearBadges(),this.onComplete&&this.onComplete()})}componentDidMount(){this.setBrowserTabTitleCountFromProps()}componentDidUpdate(){this.setBrowserTabTitleCountFromProps()}setBrowserTabTitleCountFromProps(){let{conversationsUnseenCount:e,newsHubCount:t}=this.props;this.updateBrowserTabTitleCount(e+t)}updateBrowserTabTitleCount(e){if((0,c.L6)(this.props.location))return;let{i18n:t}=this.props,n=Math.max(e,0),s=t._('Pinterest', ' - ', ' -- ');window.document.title=n?`(${n}) ${s}`:s}render(){let{conversationsUnseenCount:e,i18n:t,showPanel:n,conversationWithUnreadMesage:s,idealTooltipDirection:i,defaultIconColor:a,selectedIconColor:r,zIndex:l}=this.props;return(0,S.jsxs)(o.xu,{ref:this.setButtonRef,position:"relative",children:[(0,S.jsx)(o.u,{accessibilityLabel:"",idealDirection:i,text:t._('Messages', 'navbar.conversationsButton.tooltip', 'Tooltip text for icon button to show conversations inbox'),zIndex:l||new o.H3([new o.Ry(v.fe)]),children:(0,S.jsx)(o.xu,{"data-test-id":"notifications-button",children:(0,S.jsx)(b.Z,{badgeCount:e,defaultColor:a,icon:"speech-ellipsis",onClick:this.handleButtonClick,selected:n,selectedColor:r})})}),s&&(0,S.jsx)(I,{anchor:this.anchor,conversation:s})]})}}function T(e){let t=(0,l.ZP)(),n=(0,r.Z)(),s=(0,i.TH)(),{isAuth:o,isLimitedLogin:g}=(0,h.Z)();(0,_.Z)(()=>{o&&!g&&a.Z.create("ConversationsResource",{field_set_key:"default"}).callGet()});let{conversations:{conversationsUnseenCount:b,newsHubCount:v,showConversationsDropdown:y},dropdownClose:w,dropdownOpen:x}=(0,p.Z)(),{checkExperiment:A}=(0,u.F)(),{setInboxButton:P}=(0,f.b)(),I=(0,m.Z)().find(e=>e.unread>0),C=(0,i.k6)(),T=(0,c.C$)(C.location),L=d.Z.getItem("last_notified_message_timestamp"),j=L&&Date.now()-Number(L)<E.VC,k=T&&!y&&!j&&I&&A("sg_dweb_app_start_msg_notif").anyEnabled;return(0,S.jsx)(O,{...e,closeConversationsDropdown:w,conversationsUnseenCount:b,conversationWithUnreadMesage:k?I:null,i18n:t,location:s,newsHubCount:v,openConversationsDropdown:x,requireAuth:n,setInboxButton:P,showPanel:y})}var L=n(647352);function j({idealTooltipDirection:e,defaultIconColor:t,selectedIconColor:n,zIndex:s}){return(0,S.jsx)(L.Z,{icon:"speech-ellipsis",children:({onClearBadges:i})=>(0,S.jsx)(T,{defaultIconColor:t,idealTooltipDirection:e,onClearBadges:i,selectedIconColor:n,zIndex:s})})}},647352:(e,t,n)=>{n.d(t,{Z:()=>v});var s,i=n(667294),o=n(883119),a=n(167912),r=n(216167),l=n(256683),c=n(757640),u=n(325362),d=n(190149),_=n(432614),h=n(785893);let p=(0,l.Z)(u.Z);class m extends i.Component{constructor(...e){var t,n,s;super(...e),t="handleClearBadges",n=e=>{e===_.S.NEWS_HUB?(r.Z.create("NewsHubBadgeResource").callDelete({showError:!1}),this.props.updateNewsHubCount(0)):(this.props.conversationBadgeCall(),this.props.updateUnreadCount(0))},(t="symbol"==typeof(s=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var s=n.call(e,t||"default");if("object"!=typeof s)return s;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?s:String(s))in this?Object.defineProperty(this,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):this[t]=n}shouldComponentUpdate(e){if(!this.props.badgeResource||!e.badgeResource)return!1;let t=this.props.badgeResource.data,n=e.badgeResource.data;return t&&n?!!["conversations_unseen_count","news_hub_count"].map(e=>t[e]!==n[e]).filter(Boolean).length:!t&&!!n}componentDidUpdate(){let{badgeResource:e,updateNewsHubCount:t,updateUnreadCount:n}=this.props;if(!(e&&e.data))return;let s=p(e.data);n(s.conversationsUnseenCount),t(s.newsHubCount)}render(){let{children:e}=this.props;return e({onClearBadges:this.handleClearBadges})}}function g({conversationBadgeCall:e,children:t}){let n=(0,c.Z)({name:"NewsHubBadgeResource",noCache:!0}),{updateNewsHubCount:s,updateUnreadCount:i}=(0,d.Z)();return(0,h.jsx)(m,{badgeResource:n,conversationBadgeCall:e,updateNewsHubCount:s,updateUnreadCount:i,children:t})}let f=()=>{let e=void 0!==s?s:s=n(395980),[t]=(0,a.useMutation)(e);return async()=>await new Promise((e,n)=>{t({variables:{},onCompleted:(t,s)=>{s&&n(s[0]),e(t)},onError:e=>n(e)})})};function b({children:e}){return(0,h.jsx)(g,{conversationBadgeCall:f(),children:e})}function v({icon:e,children:t}){let[n,s]=(0,i.useState)(!1);return((0,i.useEffect)(()=>{s(!0)},[]),n)?(0,h.jsx)(b,{children:t}):(0,h.jsx)(o.xu,{paddingX:1,children:(0,h.jsx)(o.kC,{alignItems:"center",height:48,justifyContent:"center",width:48,children:(0,h.jsx)(o.JO,{accessibilityLabel:"",color:"subtle",icon:e,size:24})})})}},140186:(e,t,n)=>{n.d(t,{VC:()=>b,XZ:()=>f,ZP:()=>v});var s=n(616550),i=n(883119),o=n(216167),a=n(205841),r=n(454514),l=n(140017),c=n(96157),u=n(340523),d=n(731714),_=n(13848),h=n(554786),p=n(494125),m=n(149722),g=n(785893);let f=2e3,b=864e5;function v(){let e=(0,l.ZP)(),{isAuth:t,isLimitedLogin:n}=(0,m.Z)(),{checkExperiment:v}=(0,u.F)(),{showToast:y}=(0,_.F9)(),w=(0,s.k6)(),x=(0,c.C$)(w.location),A=(0,h.HG)();return(0,p.Z)(()=>{let s=async()=>{let t=o.Z.create("ConversationsResource",{field_set_key:"default"}),n=(await t.callGet()).resource_response.data.find(e=>e.unread>0),s=d.Z.getItem("last_notified_message_timestamp"),l=s&&Date.now()-Number(s)<b,c=n&&x&&!l&&v("sg_mweb_app_start_msg_notif").anyEnabled&&n.last_message,u=d.Z.getItem("last_notified_message_id");if(c&&c.id!==u){d.Z.setItem("last_notified_message_id",c.id),d.Z.setItem("last_notified_message_timestamp",Date.now());let{sender:t}=c,s=t.first_name||t.username||"",o=c.pin?e._('sent you a Pin', 'navbar.messageNotifications.text', 'Message notification text'):e._('sent you a message', 'navbar.messageNotifications.text', 'Message notification text'),l=(0,g.jsxs)(i.xv,{inline:!0,children:[(0,g.jsxs)(i.xv,{inline:!0,weight:"bold",children:[s," "]}),o]});setTimeout(()=>{y(({hideToast:i})=>(0,g.jsx)(r.ZP,{duration:5e3,onHide:i,primaryAction:{accessibilityLabel:e._('Reply to the message', 'NotificationToast.replyButton.accessibilityLabel', 'Button on notification toast for users to reply to the message'),label:e._('Reply', 'NotificationToast.replyButton.buttonText', 'Button on notification toast for users to reply to the message'),onClick:()=>{w.push(`/conversation/${n.id}`),i()}},text:l,thumbnail:{avatar:(0,g.jsx)(a.qE,{name:s,size:"sm",src:t.image_large_url})}}))},f)}};!t||n||A||s()}),null}},89511:(e,t,n)=>{n.d(t,{Z:()=>s});function s({user:e,viewer:t}){return!!(t.isAuth&&e?.username===t.username)}},563366:(e,t,n)=>{n.d(t,{L:()=>s,Z:()=>i});let s=506467,i="_self-profile"},728277:(e,t,n)=>{n.d(t,{Z:()=>o});var s=n(616550),i=n(757640);function o(){let{username:e}=(0,s.UO)();return(0,i.Z)(null==e?null:{name:"UserResource",options:{username:e,field_set_key:"profile"}})}},249170:(e,t,n)=>{n.d(t,{Z:()=>s});let s=(e,t)=>{let n;try{n=JSON.parse(e)}catch(e){n=t}return n}},67661:(e,t,n)=>{n.d(t,{Z4:()=>c,ZP:()=>u,t_:()=>r});var s=n(191313),i=n(407053),o=n(791486),a=n(249170);let r=()=>(0,s.qn)(i.tz,""),l=()=>(0,a.Z)(r(),[]),c=(e,t)=>{let n=[...l()],a=n.length,r=a?n[0].path:"";if(a>=i.eA&&n.pop(),!a||e!==r){let a=(0,o.Z)({path:e,pageType:t});(0,s.Nh)(i.tz,JSON.stringify([a].concat(n)))}},u=l},454051:(e,t,n)=>{function s(e,t){return t?`${e}?${new URLSearchParams(t).toString()}`:e}function i(e){return s("/admin/",e)}function o(e){return s("/admin/oauth/logout/",e)}function a(e){return s("/today/",e)}n.d(t,{HF:()=>i,Kn:()=>o,tG:()=>a})}}]);
//# sourceMappingURL=https://sm.pinimg.com/webapp/19336-58d26deaee70d7ba.mjs.map